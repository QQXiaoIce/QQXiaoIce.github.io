<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>认识Python3</title>
    <link href="/python/base/"/>
    <url>/python/base/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script>]]></content>
    
    
    <categories>
      
      <category>Python学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从 sys.argv 到 argparse：Python 命令行参数升级指南</title>
    <link href="/python/argparse-advanced/"/>
    <url>/python/argparse-advanced/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>​</p><p>在上一篇笔记中，我们解析了 <code>sys.argv</code>。作为一个<strong>原始的字符串列表</strong>，Python 解释器会把我们在命令行里输入的所有内容，一股脑地塞进去传给脚本。</p><p>但在构建复杂的命令行工具（CLI）时，<code>sys.argv</code> 的局限性暴露无遗：它不具备<strong>类型感知</strong>（所有参数皆为 String），也没有<strong>语义校验</strong>（无法自动判断必填项）。这意味着开发者必须编写大量样板代码来处理类型转换 (<code>str</code> -&gt; <code>int</code>)、边界检查 (<code>try-except</code>) 以及帮助文档的生成。</p><p>这种“造轮子”的过程不仅繁琐，而且写出来的脚本既不健壮，也不像一个正经的命令行工具。</p><p>为了解决这些痛点，Python 标准库提供了更专业的解决方案 —— <code>argparse</code>。</p><h3 id="什么是-argparse"><a href="#什么是-argparse" class="headerlink" title="什么是 argparse"></a>什么是 argparse</h3><p>官方对 <code>argparse</code> 的定义是：<strong>命令行选项、参数和子命令的解析器</strong>。</p><p>如果说 <code>sys.argv</code> 是什么都要亲力亲为的“手动挡”，那 <code>argparse</code> 就是省心省力的“自动挡”。作为一个<strong>全功能的命令行参数解析引擎</strong>，<code>argparse</code> 改变了 <code>sys.argv</code> 那种“被动接收”的方式，采用了<strong>主动声明</strong>的工作流：</p><ol><li><strong>声明式写法</strong>：你只需要告诉它“我需要一个整数类型的参数”，剩下的提取、赋值工作它全包了；</li><li><strong>自动类型转换</strong>：它能自动把参数转成你需要的类型（int, float, bool 等），省去了手动转换的麻烦；</li><li><strong>自动生成文档</strong>：不需要写一行 <code>print</code>，它就能自动生成标准的 <code>--help</code> 使用说明和错误提示，让你的脚本看起来非常专业。</li></ol><h3 id="argparse的最小可用实例"><a href="#argparse的最小可用实例" class="headerlink" title="argparse的最小可用实例"></a>argparse的最小可用实例</h3><p>让我们从一段代码讲起。这段代码虽然短小，但它已经是一个完整的参数解析骨架，具备了 <code>argparse</code> 的核心生命周期：<strong>实例化</strong>与<strong>触发解析</strong>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br><span class="hljs-comment"># 1. 实例化解析器 (ArgumentParser)</span><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 2. 触发参数解析</span><br>parser.parse_args()<br></code></pre></td></tr></table></figure><p>将上述代码保存为 <code>prog.py</code>，我们在终端中测试三种不同的调用情况：</p><h4 id="1-无参运行"><a href="#1-无参运行" class="headerlink" title="1. 无参运行"></a>1. 无参运行</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py<br><span class="hljs-comment"># (无输出)</span><br></code></pre></td></tr></table></figure><p><strong>解析</strong>：程序运行正常且无输出。这是因为我们虽然实例化了解析器，但没有定义任何参数，标准输出（stdout）自然为空。</p><h4 id="2-查看帮助（内置功能）"><a href="#2-查看帮助（内置功能）" class="headerlink" title="2. 查看帮助（内置功能）"></a>2. 查看帮助（内置功能）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py --<span class="hljs-built_in">help</span><br><br>usage: prog.py [-h]<br><br>options:<br>  -h, --<span class="hljs-built_in">help</span>  show this <span class="hljs-built_in">help</span> message and <span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure><p><strong>解析</strong>：这是 <code>argparse</code> 的核心优势之一：<strong>自动生成文档</strong>。<code>--help</code>（或缩写 <code>-h</code>）是 <code>ArgumentParser</code> 内置的默认行为。只要触发了 <code>parse_args()</code>，框架就会自动生成这份符合 Unix 标准的帮助文档。</p><h4 id="3-传入未定义参数（自动校验）"><a href="#3-传入未定义参数（自动校验）" class="headerlink" title="3. 传入未定义参数（自动校验）"></a>3. 传入未定义参数（自动校验）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py --name<br>usage: prog.py [-h]<br>prog.py: error: unrecognized arguments: --name<br><br>$ python prog.py age<br>usage: prog.py [-h]<br>prog.py: error: unrecognized arguments: age<br></code></pre></td></tr></table></figure><p><strong>解析</strong>：即便我们没有写任何校验逻辑，<code>argparse</code> 也严格拒绝了未定义的参数。它不仅拦截了非法输入，还自动输出了错误提示（stderr）和正确用法（usage）。</p><h3 id="位置参数-Positional-Arguments"><a href="#位置参数-Positional-Arguments" class="headerlink" title="位置参数 (Positional Arguments)"></a>位置参数 (Positional Arguments)</h3><p>在命令行工具开发中，最基础的需求就是传递数据。我们首先介绍<strong>位置参数</strong>。顾名思义，这类参数是通过在命令行中的出现位置来确定的，通常用于指定程序运行的必要输入。</p><h4 id="1-基础用法"><a href="#1-基础用法" class="headerlink" title="1. 基础用法"></a>1. 基础用法</h4><p>让我们写一个最简单的“复读机”程序：接收一段文本，原样输出。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 1. 注册一个名为 &quot;content&quot; 的位置参数</span><br>parser.add_argument(<span class="hljs-string">&quot;content&quot;</span>)<br><span class="hljs-comment"># 2. 解析参数</span><br>args = parser.parse_args()<br><br><span class="hljs-comment"># 3. 获取并打印参数值</span><br><span class="hljs-built_in">print</span>(args.content)<br></code></pre></td></tr></table></figure><p>我们将代码保存为 <code>prog.py</code> 并运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py<br>usage: prog.py [-h] content<br>prog.py: error: the following arguments are required: content<br></code></pre></td></tr></table></figure><p><strong>解析</strong>：</p><ol><li><strong>参数的强制性</strong>：这是位置参数的核心特征——<strong>必填</strong>。报错信息 <code>the following arguments are required: content</code> 意思非常明确：“<strong>下列参数是必填的：content</strong>”。如果用户没传，解析器会直接把程序拦下来。</li><li><strong>属性名称映射</strong>：请注意代码中的 <code>args.content</code>。<code>parse_args()</code> 返回的是一个包含所有参数的对象。框架会自动将 <code>add_argument(&quot;content&quot;)</code> 中的名字映射为对象的属性名，所以我们能直接用 <code>args.content</code> 拿到数据。</li></ol><p>当我们传入正确参数时：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py <span class="hljs-string">&quot;Hello Python&quot;</span><br>Hello Python<br></code></pre></td></tr></table></figure><h4 id="2-完善帮助信息-Help-Message"><a href="#2-完善帮助信息-Help-Message" class="headerlink" title="2. 完善帮助信息 (Help Message)"></a>2. 完善帮助信息 (Help Message)</h4><p>目前的程序虽然能跑，但在 <code>--help</code> 界面中，用户只能看到一个冷冰冰的 <code>content</code>。为了让工具更好用，我们可以直接用中文写一段说明：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 添加 help 描述，直接告诉用户这个参数是干嘛的</span><br>parser.add_argument(<span class="hljs-string">&quot;content&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;请输入你要打印的文本&quot;</span>)<br>args = parser.parse_args()<br><br><span class="hljs-built_in">print</span>(args.content)<br></code></pre></td></tr></table></figure><p>查看生成的帮助文档：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py -h<br>usage: prog.py [-h] content<br><br>positional arguments:<br>  content     请输入你要打印的文本<br><br>options:<br>  -h, --<span class="hljs-built_in">help</span>  show this <span class="hljs-built_in">help</span> message and <span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure><p><strong>解析</strong>：<code>argparse</code> 会自动把你写的说明格式化到文档里。这样用户在查阅帮助时，一眼就能看懂每个参数的具体用途。</p><h4 id="3-类型控制与运行时安全"><a href="#3-类型控制与运行时安全" class="headerlink" title="3. 类型控制与运行时安全"></a>3. 类型控制与运行时安全</h4><p>接下来我们处理一个常见的计算场景：输入一个数字，计算它的平方。 初学者常犯的一个错误是直接拿来算：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">import argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 定义一个参数用于接收数字</span><br>parser.add_argument(<span class="hljs-string">&quot;number&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;请输入一个数字计算平方&quot;</span>)<br>args = parser.parse_args()<br><br><span class="hljs-comment"># 错误示范：直接进行数学运算</span><br><span class="hljs-built_in">print</span>(args.number ** 2)<br></code></pre></td></tr></table></figure><p>运行该程序会抛出异常：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py 5<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;prog.py&quot;</span>, line 7, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-built_in">print</span>(args.number ** 2)<br>TypeError: unsupported operand <span class="hljs-built_in">type</span>(s) <span class="hljs-keyword">for</span> ** or pow(): <span class="hljs-string">&#x27;str&#x27;</span> and <span class="hljs-string">&#x27;int&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>问题根源</strong>： 这里暴露了 <code>argparse</code> 的默认行为：<strong>所有从命令行拿到的参数，默认都是字符串 (String)</strong>。 看报错信息里的 <code>unsupported operand type(s)</code>，也就是“<strong>不支持的操作数类型</strong>”。你不能拿一个字符串（<code>&#39;str&#39;</code>）去和整数（<code>&#39;int&#39;</code>）做幂运算。即使你输入的是 <code>5</code>，程序拿到的其实是 <code>&quot;5&quot;</code>。</p><p><strong>解决方案：显式类型声明 (<code>type</code>)</strong></p><p>我们不需要自己动手写 <code>int()</code> 转换，只需要在定义参数时告诉 <code>argparse</code>：“我要的是整数”。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 关键点：通过 type=int 告诉解析器，这个参数必须是整数</span><br>parser.add_argument(<span class="hljs-string">&quot;number&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;请输入一个数字计算平方&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">int</span>)<br>args = parser.parse_args()<br><br><span class="hljs-built_in">print</span>(args.number ** <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p><strong>运行结果对比</strong>：</p><ol><li><p><strong>合法输入（自动转换）</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py 5<br>25<br></code></pre></td></tr></table></figure><p>解析器在后台自动帮我们把字符串转成了整数，代码顺利执行。</p></li><li><p><strong>非法输入（自动拦截）</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py five<br>usage: prog.py [-h] number<br>prog.py: error: argument number: invalid int value: <span class="hljs-string">&#x27;five&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>解析</strong>： 这体现了 <code>argparse</code> 的<strong>类型安全机制</strong>。它不仅帮我们转换了类型，还充当了“守门员”。 注意看报错信息 <code>invalid int value</code>，就是在说：“<strong>无效的整数值</strong>”。它清楚地告诉用户：这个位置只能填整数，但你给了一个无法转成整数的字符串。这比直接抛出 Python 的 Traceback 要专业得多，用户也更容易知道自己错哪了。</p></li></ol><h3 id="可选参数-Optional-Arguments"><a href="#可选参数-Optional-Arguments" class="headerlink" title="可选参数 (Optional Arguments)"></a>可选参数 (Optional Arguments)</h3><p>掌握了位置参数后，我们迈向更灵活的领域——<strong>可选参数</strong>。这类参数通常用于配置程序行为（如功能开关、指定路径），正如其名，它们不是必填的。</p><p>在 <code>argparse</code> 中，区分可选参数和位置参数的规则非常简单：<strong>看前缀</strong>。如果参数名以 <code>-</code> 或 <code>--</code> 开头，它就是可选的。</p><h4 id="1-基础用法：带值的选项"><a href="#1-基础用法：带值的选项" class="headerlink" title="1. 基础用法：带值的选项"></a>1. 基础用法：带值的选项</h4><p>我们先看一个简单的例子：添加一个 <code>--name</code> 参数。如果用户输入了名字，就打个招呼；如果没输，程序就保持沉默。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 1. 定义可选参数（注意前面的 --）</span><br>parser.add_argument(<span class="hljs-string">&quot;--name&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;请输入你的名字&quot;</span>)<br>args = parser.parse_args()<br><br><span class="hljs-comment"># 2. 判断参数是否存在</span><br><span class="hljs-keyword">if</span> args.name:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;你好, &quot;</span> + args.name)<br></code></pre></td></tr></table></figure><p>将代码保存为 <code>prog.py</code> 并运行，我们会发现行为发生了变化：</p><ol><li><p><strong>不传参数（正常运行）</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py<br><span class="hljs-comment"># (无输出，程序正常结束)</span><br></code></pre></td></tr></table></figure><p><strong>解析</strong>：这就是“可选”的含义。如果不提供该参数，<code>args.name</code> 的默认值为 <code>None</code>，逻辑判断不成立，程序安全退出。</p></li><li><p><strong>传入参数</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py --name 小明<br>你好, 小明<br></code></pre></td></tr></table></figure><p><strong>解析</strong>：当我们指定 <code>--name</code> 时，命令行中紧跟在其后的 <code>&quot;小明&quot;</code> 会被自动赋值给 <code>args.name</code>。</p></li><li><p><strong>常见错误</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py --name<br>usage: prog.py [-h] [--name NAME]<br>prog.py: error: argument --name: expected one argument<br></code></pre></td></tr></table></figure><p><strong>解析</strong>：这里需要注意，默认的可选参数是<strong>期望接收一个值</strong>的。一旦你写了 <code>--name</code>，解析器就会等待读取下一个字符串作为它的值。如果后面是空的，就会报错。</p></li></ol><h4 id="2-标志位模式-action-”store-true”"><a href="#2-标志位模式-action-”store-true”" class="headerlink" title="2. 标志位模式 (action&#x3D;”store_true”)"></a>2. 标志位模式 (action&#x3D;”store_true”)</h4><p>在很多场景下，我们不需要用户输入具体的值，只需要一个状态开关。比如“是否开启 VIP 模式”，出现了就是开，没出现就是关。</p><p>如果我们沿用上面的写法，用户必须输入 <code>--vip 1</code> 或 <code>--vip true</code> 才能生效，这显然不够优雅。要实现这种**“见即为真”<strong>的布尔开关，我们需要调整参数的</strong>触发动作 (Action)**。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 关键点：action=&quot;store_true&quot; 指定了参数出现时的动作为“存储 True”</span><br>parser.add_argument(<span class="hljs-string">&quot;--vip&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;开启VIP模式&quot;</span>, action=<span class="hljs-string">&quot;store_true&quot;</span>)<br>args = parser.parse_args()<br><br><span class="hljs-comment"># args.vip 现在是一个布尔值 (True/False)</span><br><span class="hljs-keyword">if</span> args.vip:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;尊贵的VIP用户，你好！&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>运行结果对比</strong>：</p><ol><li><p><strong>作为开关使用</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py --vip<br>尊贵的VIP用户，你好！<br></code></pre></td></tr></table></figure><p><strong>解析</strong>：现在 <code>--vip</code> 变成了一个纯粹的<strong>标志位 (Flag)</strong>。只要它出现在命令行里，<code>action=&quot;store_true&quot;</code> 机制就会触发，将 <code>args.vip</code> 赋值为 <code>True</code>。</p></li><li><p><strong>默认状态</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py<br><span class="hljs-comment"># (无输出)</span><br></code></pre></td></tr></table></figure><p><strong>解析</strong>：如果命令行中未出现该标志，<code>args.vip</code> 默认为 <code>False</code>。</p></li><li><p><strong>防止误传值</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py --vip 1<br>usage: prog.py [-h] [--vip]<br>prog.py: error: unrecognized arguments: 1<br></code></pre></td></tr></table></figure><p><strong>解析</strong>：符合预期的行为。由于这是一个开关，解析器不接受它后面带有任何参数值。</p></li></ol><h4 id="3-短选项-Short-Options"><a href="#3-短选项-Short-Options" class="headerlink" title="3. 短选项 (Short Options)"></a>3. 短选项 (Short Options)</h4><p>如果你熟悉 Linux 命令（如 <code>ls -a</code>），你会发现长长的 <code>--vip</code> 虽然可读性好，但输入效率低。为了兼顾可读性与效率，工程实践中通常会同时提供一个<strong>短选项</strong>。</p><p>只需在 <code>add_argument</code> 中同时声明长短名字即可：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br>parser = argparse.ArgumentParser()<br><span class="hljs-comment"># 同时定义短选项 -v 和长选项 --vip</span><br>parser.add_argument(<span class="hljs-string">&quot;-v&quot;</span>, <span class="hljs-string">&quot;--vip&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;开启VIP模式&quot;</span>, action=<span class="hljs-string">&quot;store_true&quot;</span>)<br>args = parser.parse_args()<br><br><span class="hljs-keyword">if</span> args.vip:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;尊贵的VIP用户，你好！&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>运行效果</strong>：</p><p>无论是用简写还是全称，效果完全一致：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py -v<br>尊贵的VIP用户，你好！<br><br>$ python prog.py --vip<br>尊贵的VIP用户，你好！<br></code></pre></td></tr></table></figure><p>查看帮助文档，<code>argparse</code> 已经自动将它们聚合在了一起：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python prog.py -h<br>usage: prog.py [-h] [-v]<br><br>options:<br>  -h, --<span class="hljs-built_in">help</span>     show this <span class="hljs-built_in">help</span> message and <span class="hljs-built_in">exit</span><br>  -v, --vip      开启VIP模式<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python 学习笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>命令行参数</tag>
      
      <tag>基础语法</tag>
      
      <tag>argparse</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python 命令行参数入门：sys.argv 详解</title>
    <link href="/python/sys-argv-introduction/"/>
    <url>/python/sys-argv-introduction/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="一、sys-argv-是什么？"><a href="#一、sys-argv-是什么？" class="headerlink" title="一、sys.argv 是什么？"></a>一、sys.argv 是什么？</h3><p>首先，看看官方文档是怎样说的：</p><blockquote><p>传递给 Python 脚本的命令行参数列表。argv[0] 是脚本名称（其是否为完整路径名，取决于操作系统）。如果通过解释器的 -c 命令行选项执行指令，则 argv[0] 被设为字符串 ‘-c’。如果未向 Python 解释器传递脚本名称，则 argv[0] 为空字符串。<br>如需循环处理标准输入或命令行指定的文件列表，可参考 fileinput 模块。<br>另见 sys.orig_argv。<br>注意：在 Unix 系统中，命令行参数由操作系统以字节形式传递。Python 会使用文件系统编码（filesystem encoding）和 “surrogateescape” 错误处理器对其进行解码。若需获取原始字节数据，可通过以下方式获取：[os.fsencode(arg) for arg in sys.argv]</p></blockquote><p>原文：</p><blockquote><p>The list of command line arguments passed to a Python script. argv[0] is the script name (it is operating system dependent whether this is a full pathname or not). If the command was executed using the -c command line option to the interpreter, argv[0] is set to the string ‘-c’. If no script name was passed to the Python interpreter, argv[0] is the empty string.<br>To loop over the standard input, or the list of files given on the command line, see the fileinput module.<br>See also sys.orig_argv.<br>Note: On Unix, command line arguments are passed by bytes from OS. Python decodes them with filesystem encoding and “surrogateescape” error handler. When you need original bytes, you can get it by [os.fsencode(arg) for arg in sys.argv].</p></blockquote><h3 id="二、核心概念理解与实操"><a href="#二、核心概念理解与实操" class="headerlink" title="二、核心概念理解与实操"></a>二、核心概念理解与实操</h3><h4 id="1-本质：命令行参数的字符串列表"><a href="#1-本质：命令行参数的字符串列表" class="headerlink" title="1. 本质：命令行参数的字符串列表"></a>1. 本质：命令行参数<strong>的字符串</strong>列表</h4><p>官方定义明确 <code>sys.argv</code> 是<strong>列表类型</strong>，咱们通过实操验证：</p><p>创建脚本文件 <code>python_cmdline_sysargv_demo.py</code>，内容如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># python_cmdline_sysargv_demo.py</span><br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-comment"># 打印 sys.argv 的内容和类型</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sys.argv 的值：&quot;</span>, sys.argv)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sys.argv 的类型：&quot;</span>, <span class="hljs-built_in">type</span>(sys.argv))<br></code></pre></td></tr></table></figure><p>在命令行执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python python_cmdline_sysargv_demo.py name=harrison age=17 sex=man<br></code></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sys.argv 的值： [&#x27;python_cmdline_sysargv_demo.py&#x27;, &#x27;name=harrison&#x27;, &#x27;age=17&#x27;, &#x27;sex=man&#x27;]<br>sys.argv 的类型： &lt;class &#x27;list&#x27;&gt;<br></code></pre></td></tr></table></figure><p>看到结果是不是豁然开朗？核心结论：</p><ul><li><strong><code>sys.argv[0]</code></strong>：脚本本身的名称（是否为完整路径取决于操作系统）；</li><li><strong><code>sys.argv[1:]</code></strong>：用户传递的实际参数（列表切片即可获取）；</li><li>整个 <code>sys.argv</code> 是列表，其<strong>元素均为字符串（str）类型</strong>，支持所有列表操作（切片、循环、索引等）。</li></ul><h4 id="2-特殊场景下的-argv-0"><a href="#2-特殊场景下的-argv-0" class="headerlink" title="2. 特殊场景下的 argv[0]"></a>2. 特殊场景下的 argv[0]</h4><p>官方文档提到两种特殊情况，逐一验证：</p><h5 id="场景-1：使用-c-选项执行字符串代码"><a href="#场景-1：使用-c-选项执行字符串代码" class="headerlink" title="场景 1：使用 -c 选项执行字符串代码"></a>场景 1：使用 <code>-c</code> 选项执行字符串代码</h5><p>Python 支持通过命令行直接执行「字符串形式的代码」，无需创建 <code>.py</code> 脚本，此时 <code>argv[0]</code> 为 <code>-c</code>。</p><p>命令行执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python -c <span class="hljs-string">&quot;import sys; print(sys.argv)&quot;</span> hello world<br></code></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[&#x27;-c&#x27;, &#x27;hello&#x27;, &#x27;world&#x27;]<br></code></pre></td></tr></table></figure><h5 id="场景-2：无脚本-无-c-选项（交互式环境）"><a href="#场景-2：无脚本-无-c-选项（交互式环境）" class="headerlink" title="场景 2：无脚本&#x2F;无 -c 选项（交互式环境）"></a>场景 2：无脚本&#x2F;无 <code>-c</code> 选项（交互式环境）</h5><p>当仅输入 <code>python</code> 进入交互式命令行，未指定任何「执行入口」（无脚本、无 <code>-c</code> 字符串），此时 <code>sys.argv[0]</code> 为空字符串 <code>&#39;&#39;</code>，相应的，<code>sys.argv</code> 列表为 <code>[&#39;&#39;]</code>。</p><p>交互式环境验证：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">python<br>&gt;&gt;&gt; import sys<br>&gt;&gt;&gt; <span class="hljs-built_in">print</span>(sys.argv)<br>[<span class="hljs-string">&#x27;&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="三、扩展：sys-orig-argv（Python-3-10-）"><a href="#三、扩展：sys-orig-argv（Python-3-10-）" class="headerlink" title="三、扩展：sys.orig_argv（Python 3.10+）"></a>三、扩展：sys.orig_argv（Python 3.10+）</h3><p><code>sys.orig_argv</code> 是 Python 3.10 新增的模块属性，核心作用是 <strong>保存传递给 Python 解释器本身的原始完整命令行参数列表</strong>，与 <code>sys.argv</code> 的关键区别是：是否包含「解释器消费的参数」。</p><h4 id="1-两者对比示例"><a href="#1-两者对比示例" class="headerlink" title="1. 两者对比示例"></a>1. 两者对比示例</h4><p>假设执行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python3 -u -m python_cmdline_sysargv_demo.py --name <span class="hljs-built_in">test</span> 123<br></code></pre></td></tr></table></figure><p>此时两个属性的内容：</p><ul><li><code>sys.orig_argv</code>（原始完整参数）：<code>[&#39;python3&#39;, &#39;-u&#39;, &#39;-m&#39;, &#39;python_cmdline_sysargv_demo.py&#39;, &#39;--name&#39;, &#39;test&#39;, &#39;123&#39;]</code></li><li><code>sys.argv</code>（脚本接收的参数）：<code>[&#39;python_cmdline_sysargv_demo.py&#39;, &#39;--name&#39;, &#39;test&#39;, &#39;123&#39;]</code>（少了 <code>-u</code> 和 <code>-m</code>）</li></ul><h4 id="2-关键定义"><a href="#2-关键定义" class="headerlink" title="2. 关键定义"></a>2. 关键定义</h4><p><strong>「解释器消费的参数」</strong>：指像 <code>-u</code>、<code>-m</code>、<code>-c</code> 这类由 Python 解释器自身处理的选项 —— 它们会被 <code>sys.orig_argv</code> 保留，但不会出现在 <code>sys.argv</code> 中。</p><h4 id="3-适用场景（极少用到）"><a href="#3-适用场景（极少用到）" class="headerlink" title="3. 适用场景（极少用到）"></a>3. 适用场景（极少用到）</h4><ul><li>调试复杂的解释器启动场景（比如用了 <code>-m</code> 模块运行、<code>-c</code> 执行字符串、自定义解释器选项时），需要确认解释器是否正确接收了所有参数；</li><li>开发工具&#x2F;框架时，需要获取用户启动 Python 时的完整命令（比如记录运行日志、复刻执行环境）。</li></ul><h3 id="四、Unix-系统的字节编码问题"><a href="#四、Unix-系统的字节编码问题" class="headerlink" title="四、Unix 系统的字节编码问题"></a>四、Unix 系统的字节编码问题</h3><p>官方提示：在 Unix 系统中，命令行参数由操作系统以<strong>字节形式</strong>传递，Python 会自动解码为字符串。若需获取原始字节数据，用 <code>os.fsencode()</code> 反向转换即可。</p><p>示例代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># python_cmdline_sysargv_bytes_demo.py</span><br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># 获取原始字节形式的命令行参数</span><br>raw_argv = [os.fsencode(arg) <span class="hljs-keyword">for</span> arg <span class="hljs-keyword">in</span> sys.argv]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;原始字节参数：&quot;</span>, raw_argv)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;字节参数类型：&quot;</span>, <span class="hljs-built_in">type</span>(raw_argv[<span class="hljs-number">0</span>]))<br></code></pre></td></tr></table></figure><p>命令行执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python python_cmdline_sysargv_bytes_demo.py name=harrison<br></code></pre></td></tr></table></figure><p>运行结果（Unix 系统）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">原始字节参数： [b&#x27;python_cmdline_sysargv_bytes_demo.py&#x27;, b&#x27;name=harrison&#x27;]<br>字节参数类型： &lt;class &#x27;bytes&#x27;&gt;<br></code></pre></td></tr></table></figure><h3 id="五、核心总结"><a href="#五、核心总结" class="headerlink" title="五、核心总结"></a>五、核心总结</h3><ol><li><code>sys.argv</code> 是命令行参数列表，<code>argv[0]</code> 为脚本名（特殊场景为 <code>-c</code> 或空字符串），<code>argv[1:]</code> 为用户传递的实际参数；</li><li>支持列表操作，适合简单的命令行参数传递场景；</li><li><code>sys.orig_argv</code> 保留完整原始参数，仅用于特殊调试&#x2F;开发场景；</li><li>Unix 系统中可通过 <code>os.fsencode()</code> 获取参数原始字节数据。</li></ol>]]></content>
    
    
    <categories>
      
      <category>Python 学习笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>命令行参数</tag>
      
      <tag>基础语法</tag>
      
      <tag>sys 模块</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>赛博清单 Vol-02</title>
    <link href="/cyber-checklist-vol-02/"/>
    <url>/cyber-checklist-vol-02/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>最近在B站看up主<a href="https://space.bilibili.com/67079745">玄离199</a>的视频，又发现了不少有意思的工具。作为“赛博清单”系列的第二期，这次整理了几个非常实用的网络和桌面工具，以及一个有趣的“摸鱼”神器</p><span id="more"></span><hr><h3 id="Traynard-窗口托盘化工具"><a href="#Traynard-窗口托盘化工具" class="headerlink" title="Traynard - 窗口托盘化工具"></a>Traynard - 窗口托盘化工具</h3><p>Traynard 是一款能将任意窗口最小化到系统托盘的 Windows 桌面工具。它是对经典工具 Traymond 的功能增强和启发，对于喜欢保持任务栏整洁的用户来说非常实用。</p><p><strong>主要功能：</strong></p><ul><li><strong>中文界面</strong>：对国内用户更友好。</li><li><strong>开机自启</strong>：设置一次，无需手动运行。</li><li><strong>自定义热键</strong>：可以根据自己的习惯设置快捷键。</li><li><strong>多种最小化方式</strong>：支持通过图标或右键菜单操作。</li><li><strong>快速还原</strong>：可以方便地还原最后一个窗口或唤出窗口列表。</li><li><strong>自动规则</strong>：可自定义规则，让特定程序启动后自动最小化到托盘。</li></ul><p><strong>安装:</strong></p><ul><li>从 <a href="https://github.com/tabris17/traymond/releases/latest">GitHub Releases</a> 页面下载可执行文件直接运行。</li><li>使用 Scoop 安装:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">scoop install https://github.com/tabris17/traymond/releases/latest/download/traymond.json<br></code></pre></td></tr></table></figure></li></ul><p><strong>Github地址</strong>：<a href="https://github.com/KKJack-He/traynard">https://github.com/KKJack-He/traynard</a></p><hr><h3 id="SmartDNS-本地DNS服务器"><a href="#SmartDNS-本地DNS服务器" class="headerlink" title="SmartDNS - 本地DNS服务器"></a>SmartDNS - 本地DNS服务器</h3><p>SmartDNS 是一个运行在本地的高性能 DNS 服务器。它的核心功能是从多个上游 DNS 服务器获取解析结果，然后将其中访问速度最快的 IP 返回给客户端，从而有效提高网络访问速度，减少延迟。</p><p><strong>核心优势:</strong></p><ul><li><strong>智能优选，提升网速</strong>：与传统DNS返回第一个查询结果不同，SmartDNS会并发请求多个上游DNS服务器，并智能分析返回结果，最终将<strong>访问速度最快</strong>的IP地址返回给客户端，显著降低网络延迟。</li><li><strong>高效过滤，净化网络</strong>：支持自定义域名IP地址，通过高性匹配，可以有效拦截广告、追踪等污染性域名，达到广告过滤的效果。</li><li><strong>多协议支持，保障隐私</strong>：全面支持 <code>DOT (DNS over TLS)</code>、<code>DOH (DNS over HTTPS)</code>、<code>DOQ (DNS over QUIC)</code> 等加密DNS协议，有效防止DNS污染和劫持，保护个人隐私。</li><li><strong>跨平台兼容，部署灵活</strong>：完美支持在OpenWrt、华硕路由器、树莓派及Windows等多种设备和操作系统上部署，满足不同用户的需求。</li></ul><p><strong>使用指导:</strong></p><ul><li>SmartDNS官网：<a href="https://pymumu.github.io/smartdns">https://pymumu.github.io/smartdns</a></li><li>Github地址：<a href="https://github.com/pymumu/smartdns">https://github.com/pymumu/smartdns</a></li></ul><hr><h3 id="genact-无意义代码生成器"><a href="#genact-无意义代码生成器" class="headerlink" title="genact - 无意义代码生成器"></a>genact - 无意义代码生成器</h3><p>这是一个非常有意思的“摸鱼”神器。在你需要假装很忙时，运行它就对了。<code>genact</code> 可以在你的终端里模拟各种看起来非常“高大上”的任务，比如编译内核、下载机密文件、区块链挖矿等等，让路过的人以为你正在进行着什么了不起的工作。</p><blockquote><p>官方介绍：在你本该认真工作的时候，用它来假装很忙或者正在等待电脑响应！用你那疯狂的多任务处理技巧给别人留下深刻印象。只需打开几个 genact 实例，好戏就开始了。genact 有多个场景，可以假装在做一些激动人心或有用的事情，但实际上什么都没发生。</p></blockquote><p><strong>Github地址</strong>：<a href="https://github.com/svenstaro/genact">https://github.com/svenstaro/genact</a></p><hr><h3 id="VNT-虚拟局域网组网工具"><a href="#VNT-虚拟局域网组网工具" class="headerlink" title="VNT - 虚拟局域网组网工具"></a>VNT - 虚拟局域网组网工具</h3><p>VNT 是一个简单、高效的虚拟局域网（Virtual Local Area Network）工具。它可以帮助你在不同的网络环境下，快速地将多台设备组成一个虚拟的局域网，让它们之间可以像在同一个路由器下一样互相访问。对于远程办公、个人NAS访问、联机游戏等场景非常有用。</p><blockquote><p>🚀 An efficient VPN</p><p>🚀 一个简单、高效、能快速组建虚拟局域网的工具</p></blockquote><p><strong>Github地址</strong>：<a href="https://github.com/vnt-dev/vnt">https://github.com/vnt-dev/vnt</a></p><hr>]]></content>
    
    
    <categories>
      
      <category>软件分享</category>
      
    </categories>
    
    
    <tags>
      
      <tag>效率工具</tag>
      
      <tag>开源软件</tag>
      
      <tag>Windows</tag>
      
      <tag>网络工具</tag>
      
      <tag>摸鱼神器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>赛博清单 Vol.01</title>
    <link href="/cyber-checklist-vol-01/"/>
    <url>/cyber-checklist-vol-01/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>最近在B站看up主<a href="https://space.bilibili.com/67079745">玄离199</a>的视频，发现了不少有用的工具，于是决定开一个新系列“赛博清单”，专门用来存放那些我觉得不错、值得备忘的软件和网站，这是第一期。</p><span id="more"></span><hr><h3 id="ZyperWin-轻量级Windows优化工具"><a href="#ZyperWin-轻量级Windows优化工具" class="headerlink" title="ZyperWin++ - 轻量级Windows优化工具"></a>ZyperWin++ - 轻量级Windows优化工具</h3><p>这是一款轻量、开源、免费的Windows优化工具。它的功能非常全面，从系统性能、服务项优化到垃圾清理、右键菜单管理都覆盖了。此外，它还集成了系统激活和Office快速安装部署的功能，对于重装系统后的快速配置来说相当方便。界面简洁，操作逻辑清晰，并且兼容Win7到最新的Win11系统。</p><p>GitHub地址：<a href="https://github.com/ZyperWave/ZyperWinOptimize">https://github.com/ZyperWave/ZyperWinOptimize</a></p><hr><h3 id="BookmarkHub-浏览器书签跨平台同步插件"><a href="#BookmarkHub-浏览器书签跨平台同步插件" class="headerlink" title="BookmarkHub - 浏览器书签跨平台同步插件"></a>BookmarkHub - 浏览器书签跨平台同步插件</h3><p>BookmarkHub 是一款解决浏览器书签跨平台同步问题的插件。如果你同时使用 Chrome、Firefox、Edge 等多款浏览器，或者在不同设备间同步书签，这个工具就非常实用。</p><p>它的亮点在于无需注册额外的账号，直接利用你自己的 GitHub 账户生成一个 Token 和一个私有的 Gist 来作为书签的云端存储仓库，数据掌握在自己手里，非常安全放心。通过插件可以一键上传和下载书签，轻松实现同步。</p><p>GitHub地址：<a href="https://github.com/dudor/BookmarkHub">https://github.com/dudor/BookmarkHub</a></p><hr><h3 id="dupeGuru-强大的重复文件查找工具"><a href="#dupeGuru-强大的重复文件查找工具" class="headerlink" title="dupeGuru - 强大的重复文件查找工具"></a>dupeGuru - 强大的重复文件查找工具</h3><p>dupeGuru 是一款非常强大的重复文件查找工具，跨平台支持 Windows、macOS 和 Linux。</p><p>它最核心的优势是拥有一个快速模糊匹配算法，不仅能通过文件内容查找完全相同的文件，还能扫描文件名，找出那些名字相似但不完全一样的重复文件。此外，它还有两个特别实用的模式：</p><p>音乐模式：可以扫描音频文件的标签（如歌手、专辑），找出重复的音乐收藏。</p><p>图片模式：通过模糊扫描图片内容，找出视觉上相似但不完全相同的图片。</p><p>其官方 GitHub 上的英文原文介绍如下：</p><blockquote><p>dupeGuru is a tool to find duplicate files on your computer. It can scan either filenames or contents. The filename scan features a fuzzy matching algorithm that can find duplicate filenames even when they are not exactly the same.</p></blockquote><p>Github地址：<a href="https://github.com/arsenetar/dupeguru">https://github.com/arsenetar/dupeguru</a></p><hr><h3 id="anto-简洁的桌面端字幕翻译工具"><a href="#anto-简洁的桌面端字幕翻译工具" class="headerlink" title="anto - 简洁的桌面端字幕翻译工具"></a>anto - 简洁的桌面端字幕翻译工具</h3><p>anto 是一个开源的桌面端字幕翻译工具，界面简洁。对于有翻译视频字幕需求的用户来说非常方便。</p><p>它集成了多种主流的机器翻译服务，如科大讯飞、微软翻译、DeepL、火山翻译等，可以根据需要选择不同的引擎。支持拖拽 <code>.srt</code> 等格式的字幕文件进行处理，并且在翻译后会自动在文件名中增加引擎简写后缀，便于管理。</p><p>Github地址：<a href="https://github.com/speauty/anto">https://github.com/speauty/anto</a></p><hr>]]></content>
    
    
    <categories>
      
      <category>软件分享</category>
      
    </categories>
    
    
    <tags>
      
      <tag>效率工具</tag>
      
      <tag>开源软件</tag>
      
      <tag>Windows</tag>
      
      <tag>浏览器插件</tag>
      
      <tag>文件管理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>QQ音乐广告泛滥？试试这个纯净版本</title>
    <link href="/qq-music-ad-free-version/"/>
    <url>/qq-music-ad-free-version/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>最近QQ音乐的客户端真是让人头疼，花钱开了<strong>豪华绿钻</strong>，本以为能安安静静地听歌，结果广告却越来越多。开屏广告、弹窗广告，简直防不胜防。虽然可以用<strong>GKD</strong>之类的工具跳过，但作为付费用户，这种体验实在让人无法接受。交钱就是为了支持正版的同时获得更好的体验，如果会员也无法免除广告，那真的会让人萌生退意。</p><span id="more"></span><h3 id="告别广告，回归纯净听歌体验"><a href="#告别广告，回归纯净听歌体验" class="headerlink" title="告别广告，回归纯净听歌体验"></a>告别广告，回归纯净听歌体验</h3><p>其实，除了官方的版本，我们还有更好的选择。市面上有一些<strong>定制版</strong>的QQ音乐客户端，它们通常更纯粹，没有那么多广告。</p><p>目前，比较受欢迎的定制版主要有<strong>小米定制版</strong>和<strong>魅族定制版</strong>。</p><ul><li><strong>小米定制版：</strong> 曾经也是纯净版的好选择，但现在也已经开始接入广告了，所以不再是首选。</li><li><strong>魅族定制版：</strong> 相对于小米版，<strong>魅族定制版</strong>目前仍保持着相对纯净的体验，是现阶段更合适的替代方案。它不仅没有烦人的开屏广告，也不会有各种弹窗，能让你真正沉浸在音乐世界里。</li></ul><h3 id="如何获取魅族定制版？"><a href="#如何获取魅族定制版？" class="headerlink" title="如何获取魅族定制版？"></a>如何获取魅族定制版？</h3><ul><li><strong>123云盘：</strong> <a href="https://www.123912.com/s/vdvrVv-qj38h?pwd=3hAB#">下载链接</a> 提取码：<strong>3hAB</strong></li><li><strong>百度网盘：</strong> <a href="https://pan.baidu.com/s/1sOlOZxH8kxqIhE7TGVx_bQ?pwd=1yp7">下载链接</a> 提取码：<strong>1yp7</strong></li></ul><p>选择一个你习惯的网盘下载即可。安装后，你会发现界面简洁了许多，没有了那些多余的干扰，找回了最初听音乐的乐趣。</p><p>这些版本或许会在不远的未来失效，或者随着更新越来越臃肿，但届时再讨论对应的解决方案吧</p><hr>]]></content>
    
    
    <categories>
      
      <category>软件分享</category>
      
    </categories>
    
    
    <tags>
      
      <tag>QQ音乐</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>解决 pip 安装慢的问题：国内镜像源加速指南</title>
    <link href="/pip-slow-fix-china-mirrors-guide/"/>
    <url>/pip-slow-fix-china-mirrors-guide/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="问题的根源：为什么-pip-下载慢？"><a href="#问题的根源：为什么-pip-下载慢？" class="headerlink" title="问题的根源：为什么 pip 下载慢？"></a>问题的根源：为什么 pip 下载慢？</h3><p>在使用 <code>pip</code> 安装 Python 包时，总会感觉下载速度特别慢，有时候甚至会因为网络超时而安装失败。究其原因，主要是因为 <code>pip</code> 默认的官方源服务器在国外，国内访问自然就慢了。为了解决这个问题，最直接有效的办法就是把下载源切换到国内的镜像服务器。</p><p>这里记录一下两种设置 <code>pip</code> 镜像源的方法：一种是临时的，一种是永久的。</p><span id="more"></span><hr><h3 id="方法一：临时使用镜像源"><a href="#方法一：临时使用镜像源" class="headerlink" title="方法一：临时使用镜像源"></a>方法一：临时使用镜像源</h3><p>如果只是偶尔想给某个包装个速，或者在别人的环境上临时操作一下，用这个方法最方便。它不会修改 <code>pip</code> 的默认配置，只需要在安装命令后面加上 <code>-i</code> 或 <code>--index-url</code> 参数，指定本次安装使用的镜像源地址就行。</p><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>比如，我想用清华大学的镜像源来安装 <code>requests</code> 这个包，命令就可以这么写：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install requests -i https://pypi.tuna.tsinghua.edu.cn/simple/<br></code></pre></td></tr></table></figure><h4 id="常用国内镜像源"><a href="#常用国内镜像源" class="headerlink" title="常用国内镜像源"></a>常用国内镜像源</h4><p>下面整理了几个常用的国内镜像地址，可以根据自己的网络情况选择：</p><ul><li><strong>清华大学：</strong> <code>https://pypi.tuna.tsinghua.edu.cn/simple/</code></li><li><strong>阿里云：</strong> <code>https://mirrors.aliyun.com/pypi/simple/</code></li><li><strong>豆瓣：</strong> <code>https://pypi.doubanio.com/simple/</code></li><li><strong>中国科学技术大学：</strong> <code>https://pypi.mirrors.ustc.edu.cn/simple/</code></li></ul><hr><h3 id="方法二：永久配置镜像源"><a href="#方法二：永久配置镜像源" class="headerlink" title="方法二：永久配置镜像源"></a>方法二：永久配置镜像源</h3><p>每次安装都手动加参数还是太麻烦了，对于自己的开发环境，我更倾向于一劳永逸的解决方案——直接修改配置文件，让 <code>pip</code> 默认就使用国内镜像源。</p><h4 id="1-找到配置文件路径"><a href="#1-找到配置文件路径" class="headerlink" title="1. 找到配置文件路径"></a>1. 找到配置文件路径</h4><p><code>pip</code> 的配置文件位置根据操作系统的不同而不同：</p><ul><li><strong>Windows:</strong> 在文件资源管理器的地址栏输入 <code>%APPDATA%\pip</code>，然后在这个文件夹里创建一个 <code>pip.ini</code> 文件。</li><li><strong>macOS &#x2F; Linux:</strong> 配置文件路径是 <code>~/.config/pip/pip.conf</code>。如果 <code>~/.config/pip</code> 目录或 <code>pip.conf</code> 文件不存在，需要手动创建。</li></ul><h4 id="2-修改或创建配置文件"><a href="#2-修改或创建配置文件" class="headerlink" title="2. 修改或创建配置文件"></a>2. 修改或创建配置文件</h4><p>用文本编辑器打开这个配置文件（没有就新建一个），然后把下面的内容粘贴进去。这里还是以清华大学的源为例：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[global]</span><br><span class="hljs-attr">index-url</span> = https://pypi.tuna.tsinghua.edu.cn/simple<br></code></pre></td></tr></table></figure><h4 id="3-保存并验证"><a href="#3-保存并验证" class="headerlink" title="3. 保存并验证"></a>3. 保存并验证</h4><p>保存文件后，这个配置就永久生效了。之后再使用 <code>pip install</code> 命令安装任何包，都会自动从配置好的国内镜像源下载，速度会快非常多。</p><p>可以随便装个小包测试一下效果，比如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Bash">pip install numpy<br></code></pre></td></tr></table></figure><p>如果看到下载速度有质的飞跃，那就说明配置成功了。</p><hr><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li><strong>临时使用：</strong> 适合在临时环境或者偶尔需要加速的场景，命令简单直接。</li><li><strong>永久配置：</strong> 自己的开发环境首选，一次配置，后续所有安装都会加速，能极大提升效率。</li></ul><p>通过这两种方法，基本上就能告别 <code>pip</code> 下载慢的烦恼了。</p><hr>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>pip</tag>
      
      <tag>国内镜像</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>基于MeingJS在Hexo中插入音乐的方法</title>
    <link href="/meingjs-hexo-audio-plugin/"/>
    <url>/meingjs-hexo-audio-plugin/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="在Hexo博客中添加音乐播放器-hexo-tag-aplayer使用指南"><a href="#在Hexo博客中添加音乐播放器-hexo-tag-aplayer使用指南" class="headerlink" title="在Hexo博客中添加音乐播放器 - hexo-tag-aplayer使用指南"></a>在Hexo博客中添加音乐播放器 - hexo-tag-aplayer使用指南</h3><p>为什么会有这一期呢？那自然是因为想着做一点音乐分享的文章，说是分享，更多来说算是收藏才对</p><span id="more"></span><hr><h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><p>首先需要安装hexo-tag-aplayer插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-tag-aplayer<br></code></pre></td></tr></table></figure><h4 id="配置启用"><a href="#配置启用" class="headerlink" title="配置启用"></a>配置启用</h4><p>在Hexo的配置文件<code>_config.yml</code>中添加以下配置以启用Meting功能：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">aplayer:</span><br>  <span class="hljs-attr">meting:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><p>在Markdown文件中使用以下标签语法插入音乐：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% meting &quot;音乐ID&quot; &quot;平台&quot; &quot;类型&quot; %&#125;<br></code></pre></td></tr></table></figure><h4 id="实用示例"><a href="#实用示例" class="headerlink" title="实用示例"></a>实用示例</h4><ol><li><strong>插入网易云歌单</strong>：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% meting &quot;歌单ID&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>插入QQ音乐单曲</strong>：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% meting &quot;音乐ID&quot; &quot;tencent&quot; &quot;song&quot; %&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li><strong>搜索并播放音乐</strong>：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% meting &quot;搜索关键词&quot; &quot;netease&quot; &quot;search&quot; %&#125;<br></code></pre></td></tr></table></figure><h4 id="配置选项参考"><a href="#配置选项参考" class="headerlink" title="配置选项参考"></a>配置选项参考</h4><table><thead><tr><th>选项</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>id</td><td><strong>必填</strong></td><td>歌曲ID&#x2F;歌单ID&#x2F;专辑ID&#x2F;搜索关键词</td></tr><tr><td>server</td><td><strong>必填</strong></td><td>音乐平台：<code>netease</code>(网易云), <code>tencent</code>(QQ音乐), <code>kugou</code>(酷狗), <code>xiami</code>(虾米), <code>baidu</code>(百度音乐)</td></tr><tr><td>type</td><td><strong>必填</strong></td><td>类型：<code>song</code>(单曲), <code>playlist</code>(歌单), <code>album</code>(专辑), <code>search</code>(搜索), <code>artist</code>(艺人)</td></tr></tbody></table><p>更多高级设置和选项请参考<a href="https://github.com/metowolf/MetingJS">MetingJS官方文档</a>。</p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol><li>确保在发布前测试音乐播放器是否正常工作</li><li>不同音乐平台的ID获取方式可能不同</li><li>某些音乐可能因版权限制无法播放</li></ol><blockquote><p>提示：你可以通过音乐平台的网页版URL中找到音乐&#x2F;歌单的ID。</p></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>Hexo教程</category>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo插件</tag>
      
      <tag>hexo-tag-aplayer</tag>
      
      <tag>MetingJS</tag>
      
      <tag>音乐播放器</tag>
      
      <tag>网页播放器</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何轻松优雅地切换 npm 源</title>
    <link href="/switch-npm-mirror-easy/"/>
    <url>/switch-npm-mirror-easy/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="如何轻松优雅地切换-npm-源，告别下载慢的烦恼！"><a href="#如何轻松优雅地切换-npm-源，告别下载慢的烦恼！" class="headerlink" title="如何轻松优雅地切换 npm 源，告别下载慢的烦恼！"></a>如何轻松优雅地切换 npm 源，告别下载慢的烦恼！</h3><p>在平时npm install的时候，如果没有一点特殊手法那很可能会出现下载失败又或者等待出奇的久。这肯定不是我们想要的结果，而时时刻刻都保证有特殊手法那又有点不太现实，在此之前我就知道可以通过</p><span id="more"></span><hr><h3 id="方法一：最直接的方式——使用-npm-config-命令"><a href="#方法一：最直接的方式——使用-npm-config-命令" class="headerlink" title="方法一：最直接的方式——使用 npm config 命令"></a>方法一：最直接的方式——使用 <code>npm config</code> 命令</h3><p>这是最基础也最快速的切换方法，无需安装额外工具。</p><h4 id="1-查看当前-npm-源"><a href="#1-查看当前-npm-源" class="headerlink" title="1. 查看当前 npm 源"></a>1. 查看当前 npm 源</h4><p>在命令行中输入以下命令，可以查看你当前 npm 正在使用的源地址：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm config get registry<br></code></pre></td></tr></table></figure><p>通常情况下，你会看到默认的官方源地址。</p><h4 id="2-切换到淘宝镜像源（强烈推荐！）"><a href="#2-切换到淘宝镜像源（强烈推荐！）" class="headerlink" title="2. 切换到淘宝镜像源（强烈推荐！）"></a>2. 切换到淘宝镜像源（强烈推荐！）</h4><p>对于国内用户，**淘宝 NPM 镜像（现已迁移至 <code>npmmirror.com</code>）**是首选，它在国内的节点部署，能够提供极快的下载速度。</p><p>要切换到淘宝源，只需运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com/<br></code></pre></td></tr></table></figure><h4 id="3-切换回官方-npm-源"><a href="#3-切换回官方-npm-源" class="headerlink" title="3. 切换回官方 npm 源"></a>3. 切换回官方 npm 源</h4><p>如果你需要切换回默认的官方源，或者在特殊情况下需要访问官方源的特定包，可以使用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm config <span class="hljs-built_in">set</span> registry https://registry.npmjs.org/<br></code></pre></td></tr></table></figure><h4 id="4-验证是否切换成功"><a href="#4-验证是否切换成功" class="headerlink" title="4. 验证是否切换成功"></a>4. 验证是否切换成功</h4><p>无论你切换到哪个源，都可以再次运行 <code>npm config get registry</code> 命令来确认地址是否已经更新。</p><hr><h3 id="方法二：更灵活的切换工具——nrm"><a href="#方法二：更灵活的切换工具——nrm" class="headerlink" title="方法二：更灵活的切换工具——nrm"></a>方法二：更灵活的切换工具——<code>nrm</code></h3><p>如果你需要频繁地在不同 npm 源之间切换，或者需要管理多个自定义源，那么 <strong><code>nrm</code> (npm registry manager)</strong> 工具会是你的理想选择。</p><h4 id="1-全局安装-nrm"><a href="#1-全局安装-nrm" class="headerlink" title="1. 全局安装 nrm"></a>1. 全局安装 <code>nrm</code></h4><p>首先，我们需要在全局安装 <code>nrm</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g nrm<br></code></pre></td></tr></table></figure><h4 id="2-查看所有可用源"><a href="#2-查看所有可用源" class="headerlink" title="2. 查看所有可用源"></a>2. 查看所有可用源</h4><p>安装完成后，你可以使用 <code>nrm ls</code> 命令查看 <code>nrm</code> 内置的所有源列表。列表中的 <code>*</code> 符号表示当前正在使用的源。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nrm <span class="hljs-built_in">ls</span><br></code></pre></td></tr></table></figure><p>你会看到类似这样的输出：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">  npm -------- https://registry.npmjs.org/<br>  yarn ------- https://registry.yarnpkg.com/<br>  cnpm ------- http://r.cnpmjs.org/<br>* taobao ----- https://registry.npmmirror.com/<br>  nj --------- https://registry.nodejitsu.com/<br>  ...<br></code></pre></td></tr></table></figure><h4 id="3-轻松切换-npm-源"><a href="#3-轻松切换-npm-源" class="headerlink" title="3. 轻松切换 npm 源"></a>3. 轻松切换 npm 源</h4><p>要切换到你想要的源，只需使用 <code>nrm use &lt;源名称&gt;</code> 命令。例如，切换到淘宝源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nrm use taobao<br></code></pre></td></tr></table></figure><p>切换回官方源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nrm use npm<br></code></pre></td></tr></table></figure><h4 id="4-测试源速度（可选但实用！）"><a href="#4-测试源速度（可选但实用！）" class="headerlink" title="4. 测试源速度（可选但实用！）"></a>4. 测试源速度（可选但实用！）</h4><p><code>nrm</code> 还提供了一个非常实用的功能，可以测试各个源的响应速度，帮助你选择最快的源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nrm <span class="hljs-built_in">test</span><br></code></pre></td></tr></table></figure><ol start="5"><li>添加和删除自定义源（高级用法）</li></ol><p>如果你有自己的私有 npm 源，或者需要添加 <code>nrm</code> 内置列表之外的源，可以使用 <code>nrm add</code> 命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">nrm add &lt;name&gt; &lt;url&gt;<br><span class="hljs-comment"># 示例：nrm add mycompanyregistry http://my.private.registry.com</span><br></code></pre></td></tr></table></figure><p>如果不再需要某个自定义源，也可以使用 <code>nrm del</code> 命令删除它：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nrm del &lt;name&gt;<br></code></pre></td></tr></table></figure><hr><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>无论是简单地使用 <code>npm config</code> 命令，还是借助 <code>nrm</code> 工具的强大功能，<strong>切换 npm 源</strong>都能显著提升你的开发体验，让你告别漫长的等待。</p><p><strong>推荐策略：</strong></p><ul><li><strong>对于大多数国内开发者：</strong> 首次配置时使用 <code>npm config set registry https://registry.npmmirror.com/</code>，将 npm 源永久设置为淘宝镜像，通常能满足绝大部分需求。</li><li><strong>对于需要管理多个源或频繁切换的开发者：</strong> 安装并使用 <code>nrm</code> 将会极大提高你的效率。</li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
      <category>Node.js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>npm</tag>
      
      <tag>npm换原</tag>
      
      <tag>nrm</tag>
      
      <tag>淘宝镜像</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何使用hexo-encrypt插件对Hexo博客进行加密</title>
    <link href="/hexo-encrypt-tutorial/"/>
    <url>/hexo-encrypt-tutorial/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="入个使用hexo-encrypt-插件加密Hexo博客"><a href="#入个使用hexo-encrypt-插件加密Hexo博客" class="headerlink" title="入个使用hexo-encrypt 插件加密Hexo博客"></a>入个使用hexo-encrypt 插件加密Hexo博客</h3><p>Hexo 文章加密可以帮助你保护私密内容，确保只有知道密码的用户才能访问。本文将介绍如何使用 <strong>hexo-encrypt</strong> 插件实现 Hexo 博客的文章加密。</p><span id="more"></span><hr><h4 id="1-安装-hexo-encrypt-插件"><a href="#1-安装-hexo-encrypt-插件" class="headerlink" title="1. 安装 hexo-encrypt 插件"></a>1. 安装 hexo-encrypt 插件</h4><p>首先，在你的 Hexo 博客根目录下打开终端，运行以下命令安装 <strong>hexo-encrypt</strong> 插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-encrypt --save<br></code></pre></td></tr></table></figure><hr><h4 id="2-配置-config-yml"><a href="#2-配置-config-yml" class="headerlink" title="2. 配置 _config.yml"></a>2. 配置 _config.yml</h4><p>安装完成后，打开你 Hexo 博客根目录下的 <code>_config.yml</code> 文件，添加或修改以下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Hexo Encrypt</span><br><span class="hljs-attr">encrypt:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># 启用加密功能</span><br>  <span class="hljs-attr">default_password:</span> <span class="hljs-string">your_default_password</span> <span class="hljs-comment"># 可选：设置一个默认密码，如果你不想为每篇文章单独设置密码</span><br>  <span class="hljs-attr">abstract:</span> <span class="hljs-string">这里有一些加密的内容，需要密码才能继续阅读。</span> <span class="hljs-comment"># 加密文章的摘要提示</span><br>  <span class="hljs-attr">message:</span> <span class="hljs-string">嘿，这里需要密码才能访问。</span> <span class="hljs-comment"># 密码输入框上方的提示信息</span><br>  <span class="hljs-attr">tags:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">private</span><br>      <span class="hljs-attr">password:</span> <span class="hljs-string">your_tag_password</span> <span class="hljs-comment"># 该标签的密码</span><br>  <span class="hljs-attr">wrong_pass_message:</span> <span class="hljs-string">哦，这是一个无效的密码，请检查并重试。</span> <span class="hljs-comment"># 密码错误提示</span><br>  <span class="hljs-attr">wrong_hash_message:</span> <span class="hljs-string">哦，这些解密内容无法验证，但你仍然可以查看。</span> <span class="hljs-comment"># 哈希校验失败提示</span><br>  <span class="hljs-comment"># silent: true # 如果设置为 true，将禁用加密相关的日志输出</span><br></code></pre></td></tr></table></figure><p>请注意：</p><ul><li>将 <code>your_default_password</code> 替换为你希望设置的默认密码。如果不需要默认密码，可以删除这一行。</li><li><code>abstract</code>、<code>message</code>、<code>wrong_pass_message</code> 和 <code>wrong_hash_message</code> 都可以根据你的需求自定义。</li><li>对于 <code>tags</code> 部分，将 <code>your_tag_password</code> 替换为你希望为带有 <code>private</code> 标签的文章设置的密码。你可以根据需要添加更多标签及其对应的密码。</li></ul><hr><h4 id="3-加密文章"><a href="#3-加密文章" class="headerlink" title="3. 加密文章"></a>3. 加密文章</h4><p>你可以通过两种主要方式加密文章：为单篇文章设置密码，或利用 <code>_config.yml</code> 中的配置为多篇文章设置默认密码或基于标签的密码。</p><h5 id="方法一：为单篇文章设置密码"><a href="#方法一：为单篇文章设置密码" class="headerlink" title="方法一：为单篇文章设置密码"></a>方法一：为单篇文章设置密码</h5><p>在你的 Hexo 文章的 Markdown 文件（例如 <code>source/_posts/your-post.md</code>）的头部（Front-matter）添加 <code>password</code> 字段，并设置你的密码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: 我的加密文章<br>date: 2023-10-27 10:00:00<br>tags:<br><span class="hljs-bullet">  -</span> 加密<br><span class="hljs-bullet">  -</span> 私密<br><span class="hljs-section">password: your<span class="hljs-emphasis">_article_</span>password # 这篇文章的密码</span><br><span class="hljs-section">---</span><br><br>这是这篇文章的秘密内容。只有输入正确密码才能看到。<br></code></pre></td></tr></table></figure><p>将 <code>your_article_password</code> 替换为你希望为该文章设置的密码。这种方法会覆盖 <code>_config.yml</code> 中设置的默认密码或标签密码，确保该文章只使用此特定密码。</p><h5 id="方法二：利用-config-yml-中的默认密码或标签密码"><a href="#方法二：利用-config-yml-中的默认密码或标签密码" class="headerlink" title="方法二：利用 _config.yml 中的默认密码或标签密码"></a>方法二：利用 <code>_config.yml</code> 中的默认密码或标签密码</h5><p>a. 使用默认密码：</p><p>如果你在 <code>_config.yml</code> 中设置了 default_password，并且想使用这个默认密码加密文章，那么你无需在文章的 Front-matter 中添加 password 字段。文章内容会自动应用你配置的默认密码。</p><p>b. 使用标签密码：</p><p>如果你在 <code>_config.yml</code> 的 tags 部分为某个标签（例如 private）设置了密码，那么任何带有该标签的文章都会被加密。你只需在文章的 Front-matter 中添加对应的标签即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: 我的私密文章<br>date: 2023-10-27 10:00:00<br>tags:<br><span class="hljs-section">  - private # 这篇文章将使用 `<span class="hljs-emphasis">_config.yml` 中 `private` 标签对应的密码</span></span><br><span class="hljs-emphasis"><span class="hljs-section">---</span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section">这是这篇私密文章的内容。</span></span><br></code></pre></td></tr></table></figure><hr><h4 id="4-生成和部署博客"><a href="#4-生成和部署博客" class="headerlink" title="4. 生成和部署博客"></a>4. 生成和部署博客</h4><p>完成上述配置后，保存所有文件。然后，在你的 Hexo 博客根目录下运行以下命令，生成并部署你的博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean<br>hexo g<br>hexo d<br></code></pre></td></tr></table></figure><p>现在，当访问你加密的文章时，页面上将显示密码输入框，只有输入正确的密码才能查看文章内容。</p><hr>]]></content>
    
    
    <categories>
      
      <category>Hexo教程</category>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>加密</tag>
      
      <tag>hexo-encrypt</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>wallhaven爬虫</title>
    <link href="/wallhaven-web-crawler-guide/"/>
    <url>/wallhaven-web-crawler-guide/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>最近闲得发慌，逛网页时偶然点开了一个许久没有打开过的壁纸网站。记得以前爬过它的壁纸，但代码早就不知道丢哪去了。刚好有空，又想测试下AI写代码的能力，于是就有了这段代码——全程由AI生成，我顶多算个“监工”╮(╯▽╰)╭（ps：本代码由 ai 生成）<br> <span id="more"></span></p><hr><p>亲测这代码能跑起来，就是爬取量有限╮(╯＿╰)╭，毕竟藏着些bug，例如改了 id 就爬不了了……不过也懒得改了，随手生成的东西，丢去博客备份算惹，犯不着git push 了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> logging<br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> uniform<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> html<br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span><br><br><span class="hljs-comment"># ------------------------- 配置类 -------------------------</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SpiderConfig</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;爬虫基础配置&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># 网络配置</span><br>        <span class="hljs-variable language_">self</span>.base_url = <span class="hljs-string">&quot;https://wallhaven.cc/search&quot;</span><br>        <span class="hljs-variable language_">self</span>.<span class="hljs-built_in">id</span> = <span class="hljs-string">&quot;48868&quot;</span><br>        <span class="hljs-variable language_">self</span>.timeout = <span class="hljs-number">15</span><br>        <span class="hljs-variable language_">self</span>.retries = <span class="hljs-number">3</span><br>        <span class="hljs-variable language_">self</span>.delay = (<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)  <span class="hljs-comment"># 随机延迟范围</span><br><br>        <span class="hljs-comment"># 分页配置</span><br>        <span class="hljs-variable language_">self</span>.max_page_fallback = <span class="hljs-number">100</span>  <span class="hljs-comment"># 最大页码备用值</span><br><br>        <span class="hljs-comment"># 路径配置</span><br>        <span class="hljs-variable language_">self</span>.image_dir = <span class="hljs-string">&quot;images&quot;</span><br>        <span class="hljs-variable language_">self</span>.log_dir = <span class="hljs-string">&quot;logs&quot;</span><br>        <span class="hljs-variable language_">self</span>.log_file = <span class="hljs-string">&quot;wallhaven.log&quot;</span><br><br>        <span class="hljs-comment"># 调试模式</span><br>        <span class="hljs-variable language_">self</span>.debug_mode = <span class="hljs-literal">False</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImprovedSpiderConfig</span>(<span class="hljs-title class_ inherited__">SpiderConfig</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;增强配置&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-variable language_">self</span>.max_threads = <span class="hljs-number">3</span><br>        <span class="hljs-variable language_">self</span>.proxy = <span class="hljs-literal">None</span><br><br><span class="hljs-comment"># ------------------------- 日志配置 -------------------------</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UnicodeSafeStreamHandler</span>(logging.StreamHandler):<br>    <span class="hljs-string">&quot;&quot;&quot;安全处理控制台编码&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">emit</span>(<span class="hljs-params">self, record</span>):<br>        <span class="hljs-keyword">try</span>:<br>            msg = <span class="hljs-variable language_">self</span>.<span class="hljs-built_in">format</span>(record)<br>            stream = <span class="hljs-variable language_">self</span>.stream<br>            encoding = stream.encoding <span class="hljs-keyword">if</span> stream.encoding <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;utf-8&#x27;</span><br>            msg = msg.encode(encoding, errors=<span class="hljs-string">&#x27;replace&#x27;</span>).decode(encoding)<br>            stream.write(msg + <span class="hljs-variable language_">self</span>.terminator)<br>            <span class="hljs-variable language_">self</span>.flush()<br>        <span class="hljs-keyword">except</span> Exception:<br>            <span class="hljs-variable language_">self</span>.handleError(record)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_logging</span>(<span class="hljs-params">config: ImprovedSpiderConfig</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;初始化安全的日志系统&quot;&quot;&quot;</span><br>    log_format = <span class="hljs-string">&#x27;%(asctime)s - [%(levelname)s] %(message)s&#x27;</span><br>    date_format = <span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span><br><br>    os.makedirs(config.log_dir, exist_ok=<span class="hljs-literal">True</span>)<br><br>    logger = logging.getLogger()<br>    logger.handlers.clear()<br><br>    <span class="hljs-comment"># 文件处理器（UTF-8编码）</span><br>    file_handler = logging.FileHandler(<br>        filename=os.path.join(config.log_dir, config.log_file),<br>        encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span><br>    )<br>    file_handler.setFormatter(logging.Formatter(log_format, date_format))<br><br>    <span class="hljs-comment"># 控制台处理器（编码安全）</span><br>    console_handler = UnicodeSafeStreamHandler()<br>    console_handler.setFormatter(logging.Formatter(log_format, date_format))<br><br>    log_level = logging.DEBUG <span class="hljs-keyword">if</span> config.debug_mode <span class="hljs-keyword">else</span> logging.INFO<br>    logger.setLevel(log_level)<br>    file_handler.setLevel(log_level)<br>    console_handler.setLevel(log_level)<br><br>    logger.addHandler(file_handler)<br>    logger.addHandler(console_handler)<br><br><span class="hljs-comment"># ------------------------- 日志符号 -------------------------</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LogMark</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;安全日志标识符号&quot;&quot;&quot;</span><br>    START = <span class="hljs-string">&quot;=== START ===&quot;</span><br>    END = <span class="hljs-string">&quot;=== END ===&quot;</span><br>    PROCESS_PAGE = <span class="hljs-string">&quot;[PROCESS PAGE]&quot;</span><br>    FOUND_ITEMS = <span class="hljs-string">&quot;[FOUND ITEMS]&quot;</span><br>    DOWNLOAD_START = <span class="hljs-string">&quot;[DOWNLOAD]&quot;</span><br>    DOWNLOAD_SKIP = <span class="hljs-string">&quot;[SKIP]&quot;</span><br>    DOWNLOAD_SUCCESS = <span class="hljs-string">&quot;[SUCCESS]&quot;</span><br>    DOWNLOAD_FAIL = <span class="hljs-string">&quot;[FAIL]&quot;</span><br><br><span class="hljs-comment"># ------------------------- 核心爬虫 -------------------------</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WallHavenSpider</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, config: ImprovedSpiderConfig</span>):<br>        <span class="hljs-variable language_">self</span>.config = config<br>        <span class="hljs-variable language_">self</span>.session = requests.Session()<br>        <span class="hljs-variable language_">self</span>.session.headers.update(&#123;<br>            <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36&#x27;</span>,<br>            <span class="hljs-string">&#x27;Referer&#x27;</span>: <span class="hljs-string">&#x27;https://wallhaven.cc/&#x27;</span><br>        &#125;)<br>        os.makedirs(<span class="hljs-variable language_">self</span>.config.image_dir, exist_ok=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_random_delay</span>(<span class="hljs-params">self</span>):<br>        sleep(uniform(*<span class="hljs-variable language_">self</span>.config.delay))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_request_with_retry</span>(<span class="hljs-params">self, url: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Optional</span>[html.HtmlElement]:<br>        <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.config.retries + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">try</span>:<br>                response = <span class="hljs-variable language_">self</span>.session.get(url, timeout=<span class="hljs-variable language_">self</span>.config.timeout)<br>                response.raise_for_status()<br>                tree = html.fromstring(response.content)<br><br>                <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.config.debug_mode:<br>                    logging.debug(<span class="hljs-string">f&quot;HTML Preview:\n<span class="hljs-subst">&#123;response.text[:<span class="hljs-number">200</span>]&#125;</span>...&quot;</span>)<br>                    logging.debug(<span class="hljs-string">f&quot;Nodes found: <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(tree.xpath(<span class="hljs-string">&#x27;//*&#x27;</span>))&#125;</span>&quot;</span>)<br><br>                <span class="hljs-keyword">if</span> tree <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(tree) == <span class="hljs-number">0</span>:<br>                    logging.warning(<span class="hljs-string">f&quot;Empty document: <span class="hljs-subst">&#123;url&#125;</span>&quot;</span>)<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>                <span class="hljs-keyword">return</span> tree<br><br>            <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:<br>                logging.warning(<span class="hljs-string">f&quot;Request failed (<span class="hljs-subst">&#123;e.__class__.__name__&#125;</span>): <span class="hljs-subst">&#123;url&#125;</span>&quot;</span>)<br>                <span class="hljs-keyword">if</span> attempt == <span class="hljs-variable language_">self</span>.config.retries:<br>                    logging.error(<span class="hljs-string">f&quot;Max retries reached: <span class="hljs-subst">&#123;url&#125;</span>&quot;</span>)<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>                <span class="hljs-variable language_">self</span>._random_delay()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_max_page</span>(<span class="hljs-params">self, tree: html.HtmlElement</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">try</span>:<br>            pagination = tree.xpath(<span class="hljs-string">&#x27;//nav[contains(@class, &quot;pagination&quot;)]&#x27;</span>)<br>            <span class="hljs-keyword">if</span> pagination:<br>                page_buttons = pagination[<span class="hljs-number">0</span>].xpath(<span class="hljs-string">&#x27;.//a[contains(@class, &quot;pagination-link&quot;)]/text()&#x27;</span>)<br>                numeric_pages = [<span class="hljs-built_in">int</span>(p.strip()) <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> page_buttons <span class="hljs-keyword">if</span> p.strip().isdigit()]<br><br>                <span class="hljs-keyword">if</span> numeric_pages:<br>                    logging.debug(<span class="hljs-string">f&quot;Numeric pages found: <span class="hljs-subst">&#123;numeric_pages&#125;</span>&quot;</span>)<br>                    <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(numeric_pages)<br><br>                last_button = pagination[<span class="hljs-number">0</span>].xpath(<span class="hljs-string">&#x27;.//a[contains(@class, &quot;pagination-link&quot;)][last()]&#x27;</span>)<br>                <span class="hljs-keyword">if</span> last_button <span class="hljs-keyword">and</span> <span class="hljs-string">&#x27;href&#x27;</span> <span class="hljs-keyword">in</span> last_button[<span class="hljs-number">0</span>].attrib:<br>                    last_page_url = last_button[<span class="hljs-number">0</span>].attrib[<span class="hljs-string">&#x27;href&#x27;</span>]<br>                    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;page=&#x27;</span> <span class="hljs-keyword">in</span> last_page_url:<br>                        page_num = last_page_url.split(<span class="hljs-string">&#x27;page=&#x27;</span>)[-<span class="hljs-number">1</span>]<br>                        <span class="hljs-keyword">if</span> page_num.isdigit():<br>                            logging.debug(<span class="hljs-string">f&quot;Page from URL: <span class="hljs-subst">&#123;page_num&#125;</span>&quot;</span>)<br>                            <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(page_num)<br><br>            header = tree.xpath(<span class="hljs-string">&#x27;//header[h2[@class=&quot;section-header&quot;]]/h2/text()&#x27;</span>)<br>            <span class="hljs-keyword">if</span> header:<br>                parts = header[<span class="hljs-number">0</span>].split(<span class="hljs-string">&#x27;of&#x27;</span>)<br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(parts) &gt; <span class="hljs-number">1</span>:<br>                    total = parts[-<span class="hljs-number">1</span>].strip()<br>                    <span class="hljs-keyword">if</span> total.isdigit():<br>                        logging.debug(<span class="hljs-string">f&quot;Total items: <span class="hljs-subst">&#123;total&#125;</span>&quot;</span>)<br>                        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">int</span>(total) - <span class="hljs-number">1</span>) // <span class="hljs-number">24</span> + <span class="hljs-number">1</span><br><br>            logging.warning(<span class="hljs-string">&quot;Using fallback page strategy&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.config.max_page_fallback<br><br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logging.error(<span class="hljs-string">f&quot;Page parse error: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span>, exc_info=<span class="hljs-literal">True</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.config.max_page_fallback<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_detail_urls</span>(<span class="hljs-params">self, tree: html.HtmlElement</span>) -&gt; <span class="hljs-built_in">list</span>:<br>        urls = tree.xpath(<span class="hljs-string">&#x27;//section[contains(@class, &quot;thumb-listing-page&quot;)]//a[contains(@class, &quot;preview&quot;)]/@href&#x27;</span>)<br>        logging.debug(<span class="hljs-string">f&quot;Detail URLs found: <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(urls)&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">return</span> urls<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_image_url</span>(<span class="hljs-params">self, tree: html.HtmlElement</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]:<br>        url = tree.xpath(<span class="hljs-string">&#x27;//img[@id=&quot;wallpaper&quot;]/@src&#x27;</span>)<br>        <span class="hljs-keyword">if</span> url:<br>            logging.debug(<span class="hljs-string">f&quot;Image URL found: <span class="hljs-subst">&#123;url[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br>            <span class="hljs-keyword">return</span> url[<span class="hljs-number">0</span>]<br>        logging.warning(<span class="hljs-string">&quot;Image URL not found&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_download_image</span>(<span class="hljs-params">self, url: <span class="hljs-built_in">str</span></span>):<br>        <span class="hljs-keyword">try</span>:<br>            filename = os.path.basename(url.split(<span class="hljs-string">&#x27;?&#x27;</span>)[<span class="hljs-number">0</span>])<br>            save_path = os.path.join(<span class="hljs-variable language_">self</span>.config.image_dir, filename)<br><br>            <span class="hljs-keyword">if</span> os.path.exists(save_path):<br>                logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;LogMark.DOWNLOAD_SKIP&#125;</span> <span class="hljs-subst">&#123;filename&#125;</span>&quot;</span>)<br>                <span class="hljs-keyword">return</span><br><br>            logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;LogMark.DOWNLOAD_START&#125;</span> <span class="hljs-subst">&#123;filename&#125;</span>&quot;</span>)<br><br>            <span class="hljs-keyword">with</span> <span class="hljs-variable language_">self</span>.session.get(url, stream=<span class="hljs-literal">True</span>, timeout=<span class="hljs-variable language_">self</span>.config.timeout) <span class="hljs-keyword">as</span> response:<br>                response.raise_for_status()<br><br>                file_size = <span class="hljs-built_in">int</span>(response.headers.get(<span class="hljs-string">&#x27;Content-Length&#x27;</span>, <span class="hljs-number">0</span>))<br>                progress = <span class="hljs-number">0</span><br><br>                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(save_path, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>                    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response.iter_content(chunk_size=<span class="hljs-number">8192</span>):<br>                        <span class="hljs-keyword">if</span> chunk:<br>                            f.write(chunk)<br>                            progress += <span class="hljs-built_in">len</span>(chunk)<br>                            <span class="hljs-keyword">if</span> file_size &gt; <span class="hljs-number">0</span>:<br>                                logging.debug(<span class="hljs-string">f&quot;Progress: <span class="hljs-subst">&#123;progress&#125;</span>/<span class="hljs-subst">&#123;file_size&#125;</span> (<span class="hljs-subst">&#123;progress/file_size:<span class="hljs-number">.1</span>%&#125;</span>)&quot;</span>)<br><br>                logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;LogMark.DOWNLOAD_SUCCESS&#125;</span> <span class="hljs-subst">&#123;filename&#125;</span> (<span class="hljs-subst">&#123;progress/<span class="hljs-number">1024</span>:<span class="hljs-number">.1</span>f&#125;</span>KB)&quot;</span>)<br><br>        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>            logging.error(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;LogMark.DOWNLOAD_FAIL&#125;</span> <span class="hljs-subst">&#123;url&#125;</span>: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        logging.info(LogMark.START)<br><br>        base_url = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.config.base_url&#125;</span>?q=id:<span class="hljs-subst">&#123;self.config.<span class="hljs-built_in">id</span>&#125;</span>&quot;</span><br>        logging.debug(<span class="hljs-string">f&quot;Base URL: <span class="hljs-subst">&#123;base_url&#125;</span>&quot;</span>)<br><br>        initial_tree = <span class="hljs-variable language_">self</span>._request_with_retry(base_url)<br>        <span class="hljs-keyword">if</span> initial_tree <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            logging.error(<span class="hljs-string">&quot;Initial request failed&quot;</span>)<br>            <span class="hljs-keyword">return</span><br><br>        max_page = <span class="hljs-variable language_">self</span>._get_max_page(initial_tree)<br>        logging.debug(<span class="hljs-string">f&quot;Max pages calculated: <span class="hljs-subst">&#123;max_page&#125;</span>&quot;</span>)<br><br>        <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, max_page + <span class="hljs-number">1</span>):<br>            page_url = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;base_url&#125;</span>&amp;page=<span class="hljs-subst">&#123;page&#125;</span>&quot;</span> <span class="hljs-keyword">if</span> page &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> base_url<br>            logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;LogMark.PROCESS_PAGE&#125;</span> <span class="hljs-subst">&#123;page&#125;</span>: <span class="hljs-subst">&#123;page_url&#125;</span>&quot;</span>)<br><br>            tree = <span class="hljs-variable language_">self</span>._request_with_retry(page_url)<br>            <span class="hljs-keyword">if</span> tree <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                logging.warning(<span class="hljs-string">f&quot;Skip invalid page: <span class="hljs-subst">&#123;page&#125;</span>&quot;</span>)<br>                <span class="hljs-keyword">continue</span><br><br>            detail_urls = <span class="hljs-variable language_">self</span>._get_detail_urls(tree)<br>            logging.info(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;LogMark.FOUND_ITEMS&#125;</span> <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(detail_urls)&#125;</span>&quot;</span>)<br><br>            <span class="hljs-keyword">for</span> idx, url <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(detail_urls, <span class="hljs-number">1</span>):<br>                <span class="hljs-variable language_">self</span>._random_delay()<br>                logging.debug(<span class="hljs-string">f&quot;Processing <span class="hljs-subst">&#123;idx&#125;</span>/<span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(detail_urls)&#125;</span>: <span class="hljs-subst">&#123;url&#125;</span>&quot;</span>)<br>                detail_tree = <span class="hljs-variable language_">self</span>._request_with_retry(url)<br><br>                <span class="hljs-keyword">if</span> detail_tree:<br>                    <span class="hljs-keyword">if</span> image_url := <span class="hljs-variable language_">self</span>._get_image_url(detail_tree):<br>                        <span class="hljs-variable language_">self</span>._download_image(image_url)<br>                <span class="hljs-keyword">else</span>:<br>                    logging.warning(<span class="hljs-string">f&quot;Invalid detail page: <span class="hljs-subst">&#123;url&#125;</span>&quot;</span>)<br><br>        logging.info(LogMark.END)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-comment"># 初始化配置</span><br>    config = ImprovedSpiderConfig()<br>    config.<span class="hljs-built_in">id</span> = <span class="hljs-string">&quot;48868&quot;</span><br>    config.delay = (<span class="hljs-number">0.5</span>, <span class="hljs-number">1.2</span>)<br>    config.debug_mode = <span class="hljs-literal">False</span><br>    config.max_page_fallback = <span class="hljs-number">6</span><br><br>    <span class="hljs-comment"># 配置日志系统</span><br>    setup_logging(config)<br><br>    <span class="hljs-comment"># 运行爬虫</span><br>    spider = WallHavenSpider(config)<br>    spider.run()<br><br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>爬虫</tag>
      
      <tag>wallhaven</tag>
      
      <tag>壁纸爬虫</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Termux安装ssh和设置sshd自启</title>
    <link href="/termux-sshd-auto-start-guide/"/>
    <url>/termux-sshd-auto-start-guide/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>最近手机重置了，Termux 也得重新装，所有配置都得从头弄。说实话，在 Termux 客户端里用微信输入法敲命令确实别扭，我还是习惯用 JuiceSSH 来连——它会调起密码键盘，输命令顺畅多了。</p><p>索性写篇文章当备忘录，主要是不想下次重装或者在其他设备上配置时，又得四处找教程。统一存在这里，到时候直接上来 copy 步骤就行</p><span id="more"></span><hr><p>在 Termux 中安装并启用 OpenSSH 服务，可以方便地在其他设备上远程连接并进行操作。以下是详细步骤：</p><h3 id="安装-SSH-和远程登录"><a href="#安装-SSH-和远程登录" class="headerlink" title="安装 SSH 和远程登录"></a>安装 SSH 和远程登录</h3><h4 id="1-安装-OpenSSH"><a href="#1-安装-OpenSSH" class="headerlink" title="1. 安装 OpenSSH"></a>1. 安装 OpenSSH</h4><p>执行以下命令安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pkg install openssh -y<br></code></pre></td></tr></table></figure><h4 id="2-查询用户名"><a href="#2-查询用户名" class="headerlink" title="2. 查询用户名"></a>2. 查询用户名</h4><p>获取用于 SSH 登录的用户名：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">whoami</span><br></code></pre></td></tr></table></figure><p><strong>输出示例</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">u0_a123<br></code></pre></td></tr></table></figure><h4 id="3-设置登录密码"><a href="#3-设置登录密码" class="headerlink" title="3. 设置登录密码"></a>3. 设置登录密码</h4><p>为当前用户设置 SSH 登录密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">passwd<br></code></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong> 需要输入两次密码（设置和确认），两次输入必须一致。</p></blockquote><p><strong>输出示例</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">New password: <br>Retype new password: <br>New password was successfully <span class="hljs-built_in">set</span>.<br></code></pre></td></tr></table></figure><h4 id="4-启动-SSH-服务"><a href="#4-启动-SSH-服务" class="headerlink" title="4. 启动 SSH 服务"></a>4. 启动 SSH 服务</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sshd<br></code></pre></td></tr></table></figure><h4 id="5-远程连接"><a href="#5-远程连接" class="headerlink" title="5. 远程连接"></a>5. 远程连接</h4><p>确保远程设备与手机<strong>处于同一局域网且网络互通</strong>，在远程设备上执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh [你的用户名]@[手机IP地址] -p 8022<br></code></pre></td></tr></table></figure><blockquote><p>输入步骤 3 设置的密码即可成功连接。</p></blockquote><p><strong>连接成功示例</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ssh u0_a123@192.168.1.100 -p 8022<br>u0_a123@192.168.1.100<span class="hljs-string">&#x27;s password: </span><br><span class="hljs-string">Welcome to Termux!</span><br><span class="hljs-string">$</span><br></code></pre></td></tr></table></figure><hr><h3 id="设置-Termux-启动时自动运行-SSH"><a href="#设置-Termux-启动时自动运行-SSH" class="headerlink" title="设置 Termux 启动时自动运行 SSH"></a>设置 Termux 启动时自动运行 SSH</h3><h4 id="1-创建状态检查脚本"><a href="#1-创建状态检查脚本" class="headerlink" title="1. 创建状态检查脚本"></a>1. 创建状态检查脚本</h4><p>创建并编辑脚本文件<code>.start_sshd.sh</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nano ~/.start_sshd.sh<br></code></pre></td></tr></table></figure><p>粘贴以下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># 显示SSH连接信息</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;═══════════════════════════════════════&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;用户: <span class="hljs-subst">$(whoami)</span>&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;SSH端口: 8022&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;═══════════════════════════════════════&quot;</span><br><br><span class="hljs-comment"># 检查SSHD状态</span><br><span class="hljs-function"><span class="hljs-title">check_sshd</span></span>() &#123;<br>    <span class="hljs-keyword">if</span> pgrep -x <span class="hljs-string">&quot;sshd&quot;</span> &gt;/dev/null; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;🔵 sshd状态: \033[32m运行中 (PID: <span class="hljs-subst">$(pgrep -x <span class="hljs-string">&quot;sshd&quot;</span>)</span>)\033[0m&quot;</span><br>        <span class="hljs-built_in">return</span> 0<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;🟡 sshd状态: \033[33m未运行\033[0m&quot;</span><br>        <span class="hljs-built_in">return</span> 1<br>    <span class="hljs-keyword">fi</span><br>&#125;<br><br><span class="hljs-comment"># 主逻辑</span><br><span class="hljs-keyword">if</span> ! check_sshd; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> -n <span class="hljs-string">&quot;▶ 尝试启动sshd...&quot;</span><br>    <span class="hljs-keyword">if</span> sshd &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">sleep</span> 1 <span class="hljs-comment"># 等待进程启动</span><br>        <span class="hljs-keyword">if</span> check_sshd; <span class="hljs-keyword">then</span><br>            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\033[32m 成功\033[0m&quot;</span><br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\033[31m 失败 (可能端口冲突或权限问题)\033[0m&quot;</span><br>        <span class="hljs-keyword">fi</span><br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\033[31m 启动命令执行失败\033[0m&quot;</span><br>    <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>保存退出 (<code>Ctrl+O</code> → <code>回车</code> → <code>Ctrl+X</code>)，并赋予执行权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x ~/.start_sshd.sh<br></code></pre></td></tr></table></figure><h4 id="2-配置开机自启"><a href="#2-配置开机自启" class="headerlink" title="2. 配置开机自启"></a>2. 配置开机自启</h4><p>编辑 Termux 的启动配置文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nano ~/.bashrc<br></code></pre></td></tr></table></figure><p>在文件末尾添加：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 启动时自动检查/运行SSHD</span><br>~/.start_sshd.sh<br></code></pre></td></tr></table></figure><p>保存退出，并赋予执行权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x ~/.bashrc<br></code></pre></td></tr></table></figure><h4 id="3-验证效果"><a href="#3-验证效果" class="headerlink" title="3. 验证效果"></a>3. 验证效果</h4><p>重启 Termux 应用后，系统将自动执行脚本，检查并启动 SSH 服务。</p><p><strong>启动后输出示例</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">═══════════════════════════════════════<br>用户: u0_a123<br>SSH端口: 8022<br>═══════════════════════════════════════<br>🟡 sshd状态: 未运行<br>▶ 尝试启动sshd... 成功<br>🔵 sshd状态: 运行中 (PID: 12345)<br></code></pre></td></tr></table></figure><p><strong>当SSH已运行时输出示例</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">═══════════════════════════════════════<br>用户: u0_a123<br>SSH端口: 8022<br>═══════════════════════════════════════<br>🔵 sshd状态: 运行中 (PID: 12345)<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
      <category>Termux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Termux</tag>
      
      <tag>SSH配置</tag>
      
      <tag>OpenSSH</tag>
      
      <tag>远程连接</tag>
      
      <tag>Linux工具</tag>
      
      <tag>终端技巧</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>『逃离办公室の25春』📸</title>
    <link href="/escape-office-spring2025-photo/"/>
    <url>/escape-office-spring2025-photo/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="哦，这是一个无效的密码，请检查并重试。" data-whm="哦，这些解密内容无法验证，但你仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="c2bad21ab59993260855b0a498ed8b50a56f5382e5b9a2d3ce29a81ff2ec2f0e">ab10736966c59d80e46a13edd3d5f8a1ba69565a883000473c78d617e106bb6f82a87af8cb6cf227c4e74e8b020106bbea3dda281f7ad4c417b8b77c6f1a8cd508587f56b39ed3da6912c991eb01a430a47354b305cf145fb09bea1d7f2c0080e3780aa9cedaaa19af9cfd6fbbf392cb0d1da7be696cbd318836f66eb7fd8c929dd3230b98556a1ed93b3073effc4de1605c8b0cdfee8007b4dd6e922e4f087b265342f22ed439e8330a70ddfd7fc633077248d599523af8add1a29be6d35a3b730f6c853de7b701189e101a631e567ae330f2f28964cfaad989173db840c823371be4280c37b1d02e8da550ca56f9047246cbc9c03b11c2d017438604e92e3bd073956525eec85435c34f590341eb8621393241c9647fbecb28acd57fd09ca412c39b7ad61f215814d1a0e868cb62e328ed2630bfdd03243f642d227e3d3678cdb4b71f0bb61b9b1e29ba936380804260b34518fb2e5af684ac369c9168e111c690d9f5eb7c7399c2f7715fb83bb09da5f120f72da31ea5d9b0a9fb6c6a5768d34d0a0ea790f63d0b6dc0e411ccbde5c866c8d59488007dcaa35d3c4487cbd3057d34d0b8cc7dba7f118bf6e711111af4dcea8e4bb79938e61ff1e50c9d34b05983d68bcf406244c98980b5b7cb64f3ec51cdff25fb626bdb4e16f908810e7f1362610dc1364bf04116d9740199d5a4a836d69ccaa6dc55809dd3015c9f2c188399f11a81f42adeb5b1e28aefdefb7b66f1c246450c6f23dfc6ac4b81e79f78172a34c1e95330abc1a3749a2ade46c8137758492d3b7e1d693cb3daa52db5ca45d2e547cf6ca0fe9a770d1cb454f4aff01d9aa1245a95d0f32ffecf9e48f3a700b641fe6d25be3501851f713720d448abccafc395cb463ad58a8ac35c38beb2a9a4d8f78d5650d784aa111b62648bf3fa096230566b4610fba3a64cc8201bd6759debc47bc2752a6e3440a875b78b39f2d02362197dc0b26544dbceb01c0ffcc9fc92a01286a5d80350d5a38a54373fa1def8f9fd95d1d3d763ea2f70ab21d1662d8a1d41e0a6de789ab2d30640612500ebf825d3180792d78c34fb5dd4bc385e5d427b528d6984fda2b91cf6cf306c50defbceca05530c4faf7aaedca96f2718973871c889f905a3167f1eba4fd3ae8dd903491fc18984f1fe6f37aedb466732af0f14976e940e09b587027005f1b9d89c4091438b7cc923cdc713c91bcefacf86cbb680fae74bd0e32874035d8402039a44981c295f527a3ad1add369a1768c30d59a4a1734072449124363ad8e1facedb34ed7e9f1631a6b7afa53ff70b79998f2d9e2ebcb7adbacbbc1a2f3f167afad0cb0a6c2fab2a1c706f4738ebcb658038aab1a10bb9101a153a49ce594aa68c957440a170258e967916fab8462c5e8bb74639b145e05b4aa8f89a554fcf9aa6848d651ee6e0cda1a9af1fdf5645ff89466b53dfd654592d32a4f60435f0e1e3ea2317f9244af6d07d8dc7022b15655eaeceef31371a23e8815d0eef3cdbdd72b2dc39c70ea9914134743eea62136036c3fade08fc2eccbcea9980f0975b0b68f65ba694df93fa4a6167e6cea6a41853034ebe4b48351cfb3039513b8c392e8e8593d261b94621fc4592415712ea6a618ee8961185d9c0af9bd1216b83980e2cc2d2f78e12f38cd2222097af3c9c51d907aaee3670fd46a2c5b6925ca80648148ccd2ab4f95560979d97e75398969b25d398ff6c8598a970db55d7a5d2abd9ca55e263357d91f4f453f359a3197e6921cf4292c8bfe054479de213b6793d0f3fb6b7b8ed950f6f9250d1e45afa92fd3425c9ff25021e2f86f05e9b1cad62a3ea4cb93f9f9c423f703beb11ee4ccc8a0d462e3f44984fdc1a590683bfc00dc9f37e64dd550c162c09e4b7cb0afd6c34c5f5d3bd5d960c4f75d9a6446686f5d6a9398546eeb5679bbd9871158d068f6b7aab5b557d26bf9dd10fb6a4c9484d29649aff9eab832b31c6e78557416976f83aa10bf4b36e26f1d091836bcc7b11da67a30e40b0a187df9ff6f40c9316eb5d5410af7b57edc37c1e671ceec231c7cf899841f48a5c89585b5532289a94394bf3e8cb73af59822b8932aeea4a948b8061d8475d3d8ce780374fc0355fd2b371c4953594a1451bd909b9222fc18534a7e232c668b13b08cdcac85b4595353ef70fb2fa2caf71df51036da743d13e8475287ce3f01258b7aea969089b193df3964a3d141fbe05eb056a58b454053da5bd819196caba60c5d89aaea7bfd90743abfd7f9f4e943fc87fe4041cc41fefa72e49cfa4c3beff764a4ee10aa2e8c569f3e9b2fdeeac3bbcdc427a3ca32b7b572d1aadca892896f7d0a4a0247bfb068c1b29ec5a7fe13bd55193e3f03a9791dc55c7756dafa9e7eb8c229aaf3f777e9a98a62b9b0dcc6e2ce6169fdfe92e47279fcc01af2e278d657622ce3464214e4fb309f79dfe5c27bc5e0e1ddb0c0ec7818392c080325c1f42c3978bb5fbfb9ccb65ae5009797e18c30d157a2c96154d2922fb0de544dcdd4e7c920f4dbcd0d288993696dc97e6754baf122c2a04da8e026a821ba60473611d1071c17bcc235c644572b424f6f7f5540b6bc4009adb8ced4e7cca0e5c55e11a8091f5e6318daaf37a8fd4d148dc02df38e40207bf4e7c62b1baded309fa804b4798bb26395557755d96c25a04d9490876818f868699be469a498dd9d8196298a8b2bf404efe357110418781f5bb5cab5ae81719a62bb638222abaabdd8cba23ce8df3394528fa496efce8434b68312209c8bf2dba51af0a17d39b13f8b50633f07bf07f3417412b5bccc6fe41aceb7cce4dc23ab05800c1151fe038b1a02a96e9a86e5f5f9118a167bbc6285500db32f46a90d6b6d887217f9f16301bd6b89c4366ee8214fca0c3b8e92f15054f0f6b40a3a4ad171d613dc91ceabd9a0a8e122dbb9de18e30d17305cd3479c936010b951557dd387865f9722992f71e88a81edb5fdcb8333461d3dc9ed9d938aecaf760be9a5a1ab2adc7e74cc22e5a070f03a5298fd37f67a02d43fc50ab5a6e03ff3c0917dcc8c109e1a3513d2304406afa91cbc691eb86080288a44c0142e48dc4d974425bc4ad94b1c070765ff9c7637622afe06c5885bbc3c0db40e30145230363aee57689d238816cbd362617270deb763b9b91a8bf85c4f9d29aecdd976bb2ca596030104740f9e553cd5e53778c0460d406251791df3db18a695d59951ff507a95fc5b2d9095cb8f38ef9a6abc843a182ebce1d51d78e7a3d3c7241abe59f1f028a47d91dfc61f4bd18ff77936cabdbfedce30b82b72c65394fa8d33140093e8589525350adee11c4c27dc70ae0aa1a51bc08aaa49152fbd3a0471a6685974dc7087c97b52edda66b87ee55b70f56e07805497f78a3601c6a7a3846c96f34da34012e3b3835a161d386572feb8073b498e079c9bb2407adc76fd1850474a0f031c9348b1d6d4f86eeb06b1de66c40ceb98eee3f42df46da890ab88e84cb3664d0901b97fccc6bce8d0b2ee28974cca6b156a3e9c9f70b3fd660c24acce5a60b2c53a01467fcf48195f56caf6aabac319e0aade3ba03b06229972821ea7b6ec59529592bcdd2444c47285962bc2b9c1bec30f2ac001529b0b6f7385f028aecb4355295a82017e3ac730bb0827d85532b642f7acca0d6888752fbf64df639a75f21d510754e7b13236b91821a07ae8442f49456a7d5b29371b88b43f5bbaf9603e4a78569b0323e1339159f0bc272b7a9a3b36db95a38ba2291db882e8efda4788f8fb2ed21e2560c06f9ae6b94b6f4076c3c94f199a276a2cc14eae63afa4bf51293056839341e28c6b6c5ffa3c3f19a3d6f9e843dab5a7eb6cd11160b162e067bbf46e2101d06baecc9e05b0e37d4be69f6507042368da60e5bdc6f1d2b9fc6ce8213d4ab82622ee0a6c2e645fe59a86e7d6daac4a159e12a6e8ccada17ee651ed1a8cf20c9eb3fd184df07ee048782b59f13b8e3fcb1d35861556021bb71eeea271fd9c54cf4f139e4d79f12228ad46b041a59051b8992b007f7e8fdc6654385f763e1713bfdeb7634687a3cc55782e5b37d3569037fb6fa76d5fca606f00809ff180f7003e8d3ee3fb12bea5f3079e683cdda03b05c806d35ba6ec4963656d9528adc8d4d04bc2110bdbf1938c34e8dab5f9d6ca853232d2ce201adc0e0f09603a06372e1f1eae4f80031e53b25300a08f0879d7c7342cb98d777af719bcee810b09d10e5cce48eac6cc57bc8554e3af16a4f270f1b3a998bbe58d3d0845fc5be2f8ded4d0ec88eb4f3bfc9e2621789f262a9ca9fd7f5660ce8db78a14367752f41e4a4c0ecdb1e24fb9660b3e430f9f6bf349bc569856ae080438c048e82679b10de033ecb1ced501eeabae38f1672ab89b35bfc4ef00c2365e99590dd57bf774919e0bc8235fca0e292e1cd81f0f649dcde545024d3ce66889ee07b852fd369a9c30447d53436eddd9257cab945dbe0f09784d3861323dbf0dbc1a430e13b4c924f670e6485813eb2a1f2e8c7c5987d65ebe602310d5bdc5637d05fc2e5270fae407767a393a11d7379758ce06dab46d04606b9c011904d61242aaf974ae504a7a724c600d618630558f5d5d627311285a628c49d51e5a61cbb66363c44c753d354388d75212f24ce4e2bd56a644cc21677ca0aeab6acb80d97b9f181b0027437bf08552bc8bacc3b66f88cfb01c7797300548da3acfa6c3d1de36ca6cad6aa33b2dec98ba73cf3e77fec528b45cf8859b671dbb4f81d6719108bdd4375e961e9e7ad38c7eb7265b789b0a19190a51604b3707d8a21b1b05d0844f399a74497c0a9aa600b90cb7bea7f50966064ec4ce19537a0ca1662c811c7798a1c0ffbc26726da334f33ac594b3da30f4fc1512940b304e879b6ec5008587a86e348400c625b3a6150669b658a2968276b98574a10e2363a66051be11fcdda02b697c4fbcb6c1562c2f4545b6e87ad3d3dc46b298a1ec4a62d3d92f2cf239866f8e300a6b640428a0bfe00f7cfc590f521848c416700f6ceb91576d0c85cbe482edf4855c399f9682577e57ce9940c8d5428fef028ab6e376208fd5f5e851d57266081cf5759a07aae18b0aaf499ea2eb6fee3668f3a75c6b22b48b38ee97004d7e086efeb93a9aaf989b86ee257149f9866cf1a36b1bd1e4fbfaf6aaa9776b3baba73437f25841723b4e67b5d1c3d7e3fe8ce6315c18d5be647a18339e6e70d0065692a6b99a70ed93f10d0b445c5ef2a65291c2da7a8d1af022bd9ea00effc51cc1cb0b9b96bd2e1213a2fcbba5da043787b90020cd38882280b2563580367c2dbceca6541175a7e8d10a4e4320ed49b46063011720c91302812a5e0298baccdbf49c33bc3d2c6c55ab6bd5bc41ecaecc09fb90e278171cae762b59b298485d348e464188702b0e81ecfaf3aa2e73fed1f6566e33b193beb07ecb3f047648942953215b504fb1839ea7d8027fa83a9de6d21d4d3dc61ada7ac78702e530ba39ed7ca1da8533a96183b5189d352bada717d6b806d1259c80d237ec9ae218177f92dd8548be7580abeea6a0d318170e74bf0c6eb2c8b472b9db878e995ae445f40b5b9e447d92ff0deda88f65fb1792b563a2271edf9a43ed99e204a85585455407383d8ca7e2d6d48b13013673afb8e499fabfded0505861cc01ab3fad3bcbae769a81dc02bbbb09777899eaf0bf02b9f917fd6a57ea362cef8e7de1974b02581c7e841b864c2e73860b1f7cac428b3edea09d12d41da84b907809317179a382d7d0d50049dbf96eb1750082f79ab6712869bcd85ea3086e394802cd72ed3c34d6c9224cbd38baee8049ca5df5c8f9621d5eda6d5483aa27c65bd8bfaa87c93b3c9c8044231cf58054f9188931e6b15136bf4786a1dc1e08f74c4bbcda742746886d3821be88874e24ac167bf1095e8f33631606910a55df5557a2606c352032abf72bb099b7811a06d154408914637e4a1cf79c77bdf821f8153e3ab794628079f893501d7f99fd3484a32d6f5cd95497811250406a9a314039f4860bd90ca9c82bcaeec1df387e53350804a4b2dae15a176018e72ce0d706561458a05dd276b1464f4740a369296d15a86931fdddb82663182dd6fe7b288d391604b485e575aa79a8dc50da4e57181b556c81b877b154abf866a1ee89fab353246e545d4f9b59afdaa5e68532f37b1522bd5ed7b026477d347d95ae3b8ad652b0897c888c1d2ef36470109d3a3df8d2cd6a194955eefc1324bfe5a3004d574f86990e6231024167bf55361dc0cdf407ae17d3dc39b35640cd860f5e37d620f0dd11be75fed24a46648fdda18e8b796460c1fd033474286f1ed2c8213d198956f42d7ff6cd0ecba3f00d912af65067432c13027bd76b168ef1359f93c40be219dcca737e4141dd2283f09d3358699294900af8b73ee8959cc4e851846af37a19a6fb5452a56acd21a7b60fe29e24aa7da1406ac9d3539f8e8f296f5495f754a41fd510720c49bb0a14d1ff515f91807e38fff1a635c8de180057fa1d53af254a4f6973f8926a14ef60f0d79156f1ad78853ded5ac95dc10ab99047ec8fca1170249a29d1a8b0ac7fb396f7d99322abe4088038993a5cc8f5e256f63d6aaf858dc48e1fcf00adc789a9138b9f24d8de305bffb31f456add1badc6a7b6b486a96a86d30e711f7251ec760801674b3c102eb9d66b7055cd4a6dbd25d76ec244aa3ee9a0957566a3cc8a2669737c6a0d207acba63091ae800b29307f03f6491edabe38ca765077575f7bc2754e4a2e70e8e66f08699ddca9913bfa54c9a8abba8421ff74a9811b1fe9fb1cddd434a1e59ea5599362ff63167284d4b726bae859429b67d084200fe51e97f34ff954209da4f0ac112c806b7224683652fadf179fea2ce05046e6e740d1a2e3ecf2920905b6b691e1cf32d226aace4d3dd124685439aa77448bee3bdefc94a391540c50e7d40a1ae8a84681ce79e628cb1fb7bdd57d0e01eca28dc2753e3fb9a8c48df3344b16d42d1cb3610998f3c16aff260cca5a63951f75d98db0d7246065351da75c5237c7a2dac7901db6efaad645c39ea3392d546e45e38e97ffa737a8f1f0ec3aa413d8b513997eaafd08dcbf52e15eef265d8d0d0719690a1822d90612cae14e45ec3f58fecea59b13a217143efe532cc8dff58a07a70fce423f5c50a8557a0e38f963c3db6b74a704597bfee38465bf0434533e1101091ae562a27de4f0ee072fd915d10f1673ea432b1ad6198a5590c80e7c6e095ba864ab68c9daabf57f3e5d9c7b504df88fdd2d38980f45eeade7da99fd087cac0d36580a78daa676a55b8aa32b08c15939003cd5dc37b670e4a57379eb9a73a91ada999e3924393e16ee14ec1d8a925efca4d50591346722eb7121f86393cf4dba504a9eba906985db0fb1d25de9a1e951c359f3e21a6569302b632e28507f5821f30fc4e56d7d5561e73fff21ce28fb3ad8b92b43622f58467019d3cecc6db773d467466f8ef02e76de61c06b04493f9fb6a6f2132cc30db362a01fbc3fc026cc89d8586d914fbef110bdae34ba021141c392f4735858ea671ec720b8820046f798eaeb4e946e45134843ad71b9add66bf8bf391016fc2a9e05d8727f3537384f7f8ce302fa69559314cbf40ef538f141ff28fa683e1811e6e9bc52d0c2db81222cd77f706fad1a4eff8509888aa51f3244d0c3ae1b36b9caaa3ce0dae04cf21222da00a239a7114ca4dcb418e79ab4cbe273fa6f8e37dd810493edb2b3a2f07679bdc0b50d7f93a2c8c8f549291307ecb77eef6951ab4a218eaa440c1954e1bd240d225c267925daa65b075242835bb2803085c79851ed79e498a90f8740fb6cc85cd9bbdcecc229f4e5d664e97c218fd840ddd1f83ec6f2dfff887ff0fdac35f4f8640d718618b6ffe5300c155ce61612dde24a9d01141ac6c2d3fb11bcb86257bbcd319d6d0de8388387c848b3d93232b33851b1f02e964c1fc8b30e6963e2eebe60cf67fe9a5393b0b19558686b1db5975d5ab99c3e12c6ff5a06de34116579788314d0ae5a3e3d8d2bb76de7dc5ece67819f7344f7ce82f5eabfee82187f75c79415ce9f3b375c22b7377759018920c8530dd15ea92d372c436a1ac5e0c83179c68261c03fa4b900fe1e6e56c1bfd8fee8c83565c7f5228647ac695a63018e58fadad146317aa3b86241a2c42efd2cad12c6f66c1578225826edfa85fffc5cd9d5b1cc6418e656cacb6c90ee14d75b41f6839561159508b819636701868263481f89f9505080e770fcc657d3cbb0f5969a7a728b569ded2114a432d41eb70369d2c20bd246eaf0626f8a199a1ad30932720be10876db7553598e5723e7bfaaf45f52b2b51569e2e910275493f66857026f960e8d2494758ec5b1b30e6f6544a6271c24dce932972adf17e110d62c3c532d78fc313cfea9a574c7223062386126359167265bae5e3f4259e6982b04a3f1011de453fa7bb1296dd28437604cebfd2ddb52c2551b736f636fdccde24e2d5c77596ddc3b38c4ecc6da60231cea25966c0f79ba3f540774e654699e078174d30cc7a6f0eb32b6c77628db9644633b5fb304bfc6d0feae328b1c071a68b1eae773cf09bb8c981aeb02f279c504b219dda681d1f2b47b14c27d9b9a4e407066159b08ec0d28e5b4255fcee865bc3ffb2fc74719f2f1ea74a5506fc48f3d14e9da1d372086cec52caa734488af909517f46196328c2b28f7d90bf219d3c354f76cb88c6654d5f20ea9a7c5f521c98a46dfadfc36b43c326eae6fbabceddd96e788fba29f09a01eb36035d1b5db18dc9ab952c2cc8d2e2870b0046bd7475d6071da4fff4b81ac5a93ffe0fe6cf2a237f2b2ec3578f49b3e054a2ff9726fbd5a632a681748fb315bf5131685f1a2e0ffcdaa3dcd69231c0cb76c0c5f6a337f482e62f66f34783ff70bd189d7d268a525b91b96e4373bb7533a8f4c4a996c2d34336d7249f0efa7ddc1e2b586297606e15d4d23f9d7187357d26210f3b39040f16023bd1c2fcdbed152d64b9b22fb125b39f7b0c0a5f65cb1b62a14dfe22ae71b23f07665cd7abb487c5315344d67b4e386c5a192ac9be01026d1</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">嘿，这里需要密码才能访问。</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>旅行</category>
      
      <category>摄影</category>
      
    </categories>
    
    
    <tags>
      
      <tag>摄影</tag>
      
      <tag>出行</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
